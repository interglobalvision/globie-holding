function spawn(){if((new Date).getTime()>lastTime+minSpawnTime){lastTime=(new Date).getTime();parts.push(new smoke(emitterX,emitterY))}}function render(){var e=parts.length;ctx.clearRect(0,0,canvas.width,canvas.height);while(e--){if(parts[e].y<0||parts[e].lifeTime>maxLifeTime){parts.splice(e,1)}else{parts[e].update();ctx.save();var t=-parts[e].size/2,n=-parts[e].size/2;ctx.translate(parts[e].x-t,parts[e].y-n);ctx.rotate(parts[e].angle/180*Math.PI);ctx.globalAlpha=parts[e].alpha;ctx.drawImage(smokeImage,t,n,parts[e].size,parts[e].size);ctx.restore()}}spawn();requestAnimationFrame(render)}function smoke(e,t,n){this.x=e;this.y=t;this.size=1;this.startSize=32;this.endSize=40;this.angle=Math.random()*359;this.startLife=(new Date).getTime();this.lifeTime=0;this.velY=-1-Math.random()*.5;this.velX=Math.floor(Math.random()*-6+3)/10}function resizeMe(){canvas.height=document.body.offsetHeight}(function(){var e;var t=function(){};var n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];var r=n.length;var i=window.console=window.console||{};while(r--){e=n[r];if(!i[e]){i[e]=t}}})();(function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=e})();var canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d");canvas.height=document.body.offsetHeight;canvas.width=300;var parts=[],minSpawnTime=40,lastTime=(new Date).getTime(),maxLifeTime=Math.min(5e3,canvas.height/(1.5*60)*1e3),emitterX=canvas.width/2,emitterY=canvas.height-10,smokeImage=new Image;smoke.prototype.update=function(){this.lifeTime=(new Date).getTime()-this.startLife;this.angle+=.2;var e=this.lifeTime/maxLifeTime*100;this.size=this.startSize+(this.endSize-this.startSize)*e*.1;this.alpha=1-e*.01;this.alpha=Math.max(this.alpha,0);this.x+=this.velX;this.y+=this.velY};smokeImage.src="img/smoke.png";smokeImage.onload=function(){render()};window.onresize=resizeMe;window.onload=resizeMe;jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){if((t/=i/2)<1){return r/2*t*t+n}return-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){if((t/=i/2)<1){return r/2*t*t*t+n}return r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){if((t/=i/2)<1){return r/2*t*t*t*t+n}return-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){if((t/=i/2)<1){return r/2*t*t*t*t*t+n}return r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){if(t==0){return n}if(t==i){return n+r}if((t/=i/2)<1){return r/2*Math.pow(2,10*(t-1))+n}return r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){if((t/=i/2)<1){return-r/2*(Math.sqrt(1-t*t)-1)+n}return r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0){return n}if((t/=i)==1){return n+r}if(!o){o=i*.3}if(u<Math.abs(r)){u=r;var s=o/4}else{var s=o/(2*Math.PI)*Math.asin(r/u)}return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0){return n}if((t/=i)==1){return n+r}if(!o){o=i*.3}if(u<Math.abs(r)){u=r;var s=o/4}else{var s=o/(2*Math.PI)*Math.asin(r/u)}return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0){return n}if((t/=i/2)==2){return n+r}if(!o){o=i*.3*1.5}if(u<Math.abs(r)){u=r;var s=o/4}else{var s=o/(2*Math.PI)*Math.asin(r/u)}if(t<1){return-.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n}return u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){if(s==undefined){s=1.70158}return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){if(s==undefined){s=1.70158}return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){if(s==undefined){s=1.70158}if((t/=i/2)<1){return r/2*t*t*(((s*=1.525)+1)*t-s)+n}return r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){if((t/=i)<1/2.75){return r*7.5625*t*t+n}else{if(t<2/2.75){return r*(7.5625*(t-=1.5/2.75)*t+.75)+n}else{if(t<2.5/2.75){return r*(7.5625*(t-=2.25/2.75)*t+.9375)+n}else{return r*(7.5625*(t-=2.625/2.75)*t+.984375)+n}}}},easeInOutBounce:function(e,t,n,r,i){if(t<i/2){return jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n}return jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}});(function(e,t,n,r,i){function T(t){t=t.split(")");var n=e.trim,i=-1,s=t.length-1,o,u,a,f=h?new Float32Array(6):[],l=h?new Float32Array(6):[],c=h?new Float32Array(6):[1,0,0,1,0,0];f[0]=f[3]=c[0]=c[3]=1;f[1]=f[2]=f[4]=f[5]=0;while(++i<s){o=t[i].split("(");u=n(o[0]);a=o[1];l[0]=l[3]=1;l[1]=l[2]=l[4]=l[5]=0;switch(u){case b+"X":l[4]=parseInt(a,10);break;case b+"Y":l[5]=parseInt(a,10);break;case b:a=a.split(",");l[4]=parseInt(a[0],10);l[5]=parseInt(a[1]||0,10);break;case w:a=M(a);l[0]=r.cos(a);l[1]=r.sin(a);l[2]=-r.sin(a);l[3]=r.cos(a);break;case E+"X":l[0]=+a;break;case E+"Y":l[3]=a;break;case E:a=a.split(",");l[0]=a[0];l[3]=a.length>1?a[1]:a[0];break;case S+"X":l[2]=r.tan(M(a));break;case S+"Y":l[1]=r.tan(M(a));break;case x:a=a.split(",");l[0]=a[0];l[1]=a[1];l[2]=a[2];l[3]=a[3];l[4]=parseInt(a[4],10);l[5]=parseInt(a[5],10);break}c[0]=f[0]*l[0]+f[2]*l[1];c[1]=f[1]*l[0]+f[3]*l[1];c[2]=f[0]*l[2]+f[2]*l[3];c[3]=f[1]*l[2]+f[3]*l[3];c[4]=f[0]*l[4]+f[2]*l[5]+f[4];c[5]=f[1]*l[4]+f[3]*l[5]+f[5];f=[c[0],c[1],c[2],c[3],c[4],c[5]]}return c}function N(e){var t,n,i,s=e[0],o=e[1],u=e[2],a=e[3];if(s*a-o*u){t=r.sqrt(s*s+o*o);s/=t;o/=t;i=s*u+o*a;u-=s*i;a-=o*i;n=r.sqrt(u*u+a*a);u/=n;a/=n;i/=n;if(s*a<o*u){s=-s;o=-o;i=-i;t=-t}}else{t=n=i=0}return[[b,[+e[4],+e[5]]],[w,r.atan2(o,s)],[S+"X",r.atan(i)],[E,[t,n]]]}function C(t,n){var r={start:[],end:[]},i=-1,s,o,u,a;(t=="none"||L(t))&&(t="");(n=="none"||L(n))&&(n="");if(t&&n&&!n.indexOf("matrix")&&_(t).join()==_(n.split(")")[0]).join()){r.origin=t;t="";n=n.slice(n.indexOf(")")+1)}if(!t&&!n){return}if(!t||!n||A(t)==A(n)){t&&(t=t.split(")"))&&(s=t.length);n&&(n=n.split(")"))&&(s=n.length);while(++i<s-1){t[i]&&(o=t[i].split("("));n[i]&&(u=n[i].split("("));a=e.trim((o||u)[0]);O(r.start,k(a,o?o[1]:0));O(r.end,k(a,u?u[1]:0))}}else{r.start=N(T(t));r.end=N(T(n))}return r}function k(e,t){var n=+!e.indexOf(E),r,i=e.replace(/e[XY]/,"e");switch(e){case b+"Y":case E+"Y":t=[n,t?parseFloat(t):n];break;case b+"X":case b:case E+"X":r=1;case E:t=t?(t=t.split(","))&&[parseFloat(t[0]),parseFloat(t.length>1?t[1]:e==E?r||t[0]:n+"")]:[n,n];break;case S+"X":case S+"Y":case w:t=t?M(t):0;break;case x:return N(t?_(t):[1,0,0,1,0,0]);break}return[[i,t]]}function L(e){return m.test(e)}function A(e){return e.replace(/(?:\([^)]*\))|\s/g,"")}function O(e,t,n){while(n=t.shift()){e.push(n)}}function M(e){return~e.indexOf("deg")?parseInt(e,10)*(r.PI*2/360):~e.indexOf("grad")?parseInt(e,10)*(r.PI/200):parseFloat(e)}function _(e){e=/([^,]*),([^,]*),([^,]*),([^,]*),([^,p]*)(?:px)?,([^)p]*)(?:px)?/.exec(e);return[e[1],e[2],e[3],e[4],e[5],e[6]]}var s=n.createElement("div"),o=s.style,u="Transform",a=["O"+u,"ms"+u,"Webkit"+u,"Moz"+u],f=a.length,l,c,h="Float32Array"in t,p,d,v=/Matrix([^)]*)/,m=/^\s*matrix\(\s*1\s*,\s*0\s*,\s*0\s*,\s*1\s*(?:,\s*0(?:px)?\s*){2}\)\s*$/,g="transform",y="transformOrigin",b="translate",w="rotate",E="scale",S="skew",x="matrix";while(f--){if(a[f]in o){e.support[g]=l=a[f];e.support[y]=l+"Origin";continue}}if(!l){e.support.matrixFilter=c=o.filter===""}e.cssNumber[g]=e.cssNumber[y]=true;if(l&&l!=g){e.cssProps[g]=l;e.cssProps[y]=l+"Origin";if(l=="Moz"+u){p={get:function(t,n){return n?e.css(t,l).split("px").join(""):t.style[l]},set:function(e,t){e.style[l]=/matrix\([^)p]*\)/.test(t)?t.replace(/matrix((?:[^,]*,){4})([^,]*),([^)]*)/,x+"$1$2px,$3px"):t}}}else if(/^1\.[0-5](?:\.|$)/.test(e.fn.jquery)){p={get:function(t,n){return n?e.css(t,l.replace(/^ms/,"Ms")):t.style[l]}}}}else if(c){p={get:function(t,n,r){var s=n&&t.currentStyle?t.currentStyle:t.style,o,u;if(s&&v.test(s.filter)){o=RegExp.$1.split(",");o=[o[0].split("=")[1],o[2].split("=")[1],o[1].split("=")[1],o[3].split("=")[1]]}else{o=[1,0,0,1]}if(!e.cssHooks[y]){o[4]=s?parseInt(s.left,10)||0:0;o[5]=s?parseInt(s.top,10)||0:0}else{u=e._data(t,"transformTranslate",i);o[4]=u?u[0]:0;o[5]=u?u[1]:0}return r?o:x+"("+o+")"},set:function(t,n,r){var i=t.style,s,o,u,a;if(!r){i.zoom=1}n=T(n);o=["Matrix("+"M11="+n[0],"M12="+n[2],"M21="+n[1],"M22="+n[3],"SizingMethod='auto expand'"].join();u=(s=t.currentStyle)&&s.filter||i.filter||"";i.filter=v.test(u)?u.replace(v,o):u+" progid:DXImageTransform.Microsoft."+o+")";if(!e.cssHooks[y]){if(a=e.transform.centerOrigin){i[a=="margin"?"marginLeft":"left"]=-(t.offsetWidth/2)+t.clientWidth/2+"px";i[a=="margin"?"marginTop":"top"]=-(t.offsetHeight/2)+t.clientHeight/2+"px"}i.left=n[4]+"px";i.top=n[5]+"px"}else{e.cssHooks[y].set(t,n)}}}}if(p){e.cssHooks[g]=p}d=p&&p.get||e.css;e.fx.step.transform=function(t){var n=t.elem,i=t.start,s=t.end,o=t.pos,u="",a=1e5,f,h,v,m;if(!i||typeof i==="string"){if(!i){i=d(n,l)}if(c){n.style.zoom=1}s=s.split("+=").join(i);return e.extend(t,C(i,s))}f=i.length;while(f--){h=i[f];v=s[f];m=+false;switch(h[0]){case b:m="px";case E:m||(m=" ");u=h[0]+"("+r.round((h[1][0]+(v[1][0]-h[1][0])*o)*a)/a+m+","+r.round((h[1][1]+(v[1][1]-h[1][1])*o)*a)/a+m+")"+u;break;case S+"X":case S+"Y":case w:u=h[0]+"("+r.round((h[1]+(v[1]-h[1])*o)*a)/a+"rad)"+u;break}}t.origin&&(u=t.origin+u);p&&p.set?p.set(n,u,+true):n.style[l]=u};e.transform={centerOrigin:"margin"}})(jQuery,window,document,Math);!function(e){var t,n,r="0.4.2",i="hasOwnProperty",s=/[\.\/]/,o=/\s*,\s*/,u="*",a=function(e,t){return e-t},f={n:{}},l=function(){for(var e=0,t=this.length;t>e;e++)if("undefined"!=typeof this[e])return this[e]},c=function(){for(var e=this.length;--e;)if("undefined"!=typeof this[e])return this[e]},h=function(e,r){e=String(e);var i,s=n,o=Array.prototype.slice.call(arguments,2),u=h.listeners(e),f=0,p=[],d={},v=[],g=t;v.firstDefined=l,v.lastDefined=c,t=e,n=0;for(var y=0,w=u.length;w>y;y++)"zIndex"in u[y]&&(p.push(u[y].zIndex),u[y].zIndex<0&&(d[u[y].zIndex]=u[y]));for(p.sort(a);p[f]<0;)if(i=d[p[f++]],v.push(i.apply(r,o)),n)return n=s,v;for(y=0;w>y;y++)if(i=u[y],"zIndex"in i)if(i.zIndex==p[f]){if(v.push(i.apply(r,o)),n)break;do if(f++,i=d[p[f]],i&&v.push(i.apply(r,o)),n)break;while(i)}else d[i.zIndex]=i;else if(v.push(i.apply(r,o)),n)break;return n=s,t=g,v};h._events=f,h.listeners=function(e){var t,n,r,i,o,a,l,c,h=e.split(s),p=f,d=[p],v=[];for(i=0,o=h.length;o>i;i++){for(c=[],a=0,l=d.length;l>a;a++)for(p=d[a].n,n=[p[h[i]],p[u]],r=2;r--;)t=n[r],t&&(c.push(t),v=v.concat(t.f||[]));d=c}return v},h.on=function(e,t){if(e=String(e),"function"!=typeof t)return function(){};for(var n=e.split(o),r=0,i=n.length;i>r;r++)!function(e){for(var n,r=e.split(s),i=f,o=0,u=r.length;u>o;o++)i=i.n,i=i.hasOwnProperty(r[o])&&i[r[o]]||(i[r[o]]={n:{}});for(i.f=i.f||[],o=0,u=i.f.length;u>o;o++)if(i.f[o]==t){n=!0;break}!n&&i.f.push(t)}(n[r]);return function(e){+e==+e&&(t.zIndex=+e)}},h.f=function(e){var t=[].slice.call(arguments,1);return function(){h.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},h.stop=function(){n=1},h.nt=function(e){return e?(new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)")).test(t):t},h.nts=function(){return t.split(s)},h.off=h.unbind=function(e,t){if(!e)return void (h._events=f={n:{}});var n=e.split(o);if(n.length>1)for(var r=0,a=n.length;a>r;r++)h.off(n[r],t);else{n=e.split(s);var l,c,p,r,a,d,v,y=[f];for(r=0,a=n.length;a>r;r++)for(d=0;d<y.length;d+=p.length-2){if(p=[d,1],l=y[d].n,n[r]!=u)l[n[r]]&&p.push(l[n[r]]);else for(c in l)l[i](c)&&p.push(l[c]);y.splice.apply(y,p)}for(r=0,a=y.length;a>r;r++)for(l=y[r];l.n;){if(t){if(l.f){for(d=0,v=l.f.length;v>d;d++)if(l.f[d]==t){l.f.splice(d,1);break}!l.f.length&&delete l.f}for(c in l.n)if(l.n[i](c)&&l.n[c].f){var b=l.n[c].f;for(d=0,v=b.length;v>d;d++)if(b[d]==t){b.splice(d,1);break}!b.length&&delete l.n[c].f}}else{delete l.f;for(c in l.n)l.n[i](c)&&l.n[c].f&&delete l.n[c].f}l=l.n}}},h.once=function(e,t){var n=function(){return h.unbind(e,n),t.apply(this,arguments)};return h.on(e,n)},h.version=r,h.toString=function(){return"You are running Eve "+r},"undefined"!=typeof module&&module.exports?module.exports=h:"function"==typeof define&&define.amd?define("eve",[],function(){return h}):e.eve=h}(this),function(e,t){"function"==typeof define&&define.amd?define(["eve"],function(n){return t(e,n)}):t(e,e.eve)}(this,function(e,t){var n=function(t){var n={},r=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,16)},i=Array.isArray||function(e){return e instanceof Array||"[object Array]"==Object.prototype.toString.call(e)},s=0,o="M"+(+(new Date)).toString(36),u=function(){return o+(s++).toString(36)},f=Date.now||function(){return+(new Date)},l=function(e){var t=this;if(null==e)return t.s;var n=t.s-e;t.b+=t.dur*n,t.B+=t.dur*n,t.s=e},c=function(e){var t=this;return null==e?t.spd:void (t.spd=e)},h=function(e){var t=this;return null==e?t.dur:(t.s=t.s*e/t.dur,void (t.dur=e))},p=function(){var e=this;delete n[e.id],e.update(),t("mina.stop."+e.id,e)},d=function(){var e=this;e.pdif||(delete n[e.id],e.update(),e.pdif=e.get()-e.b)},v=function(){var e=this;e.pdif&&(e.b=e.get()-e.pdif,delete e.pdif,n[e.id]=e)},m=function(){var e,t=this;if(i(t.start)){e=[];for(var n=0,r=t.start.length;r>n;n++)e[n]=+t.start[n]+(t.end[n]-t.start[n])*t.easing(t.s)}else e=+t.start+(t.end-t.start)*t.easing(t.s);t.set(e)},g=function(){var e=0;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i],o=s.get();e++,s.s=(o-s.b)/(s.dur/s.spd),s.s>=1&&(delete n[i],s.s=1,e--,function(e){setTimeout(function(){t("mina.finish."+e.id,e)})}(s)),s.update()}e&&r(g)},y=function(e,t,i,s,o,a,f){var b={id:u(),start:e,end:t,b:i,s:0,dur:s-i,spd:1,get:o,set:a,easing:f||y.linear,status:l,speed:c,duration:h,stop:p,pause:d,resume:v,update:m};n[b.id]=b;var w,E=0;for(w in n)if(n.hasOwnProperty(w)&&(E++,2==E))break;return 1==E&&r(g),b};return y.time=f,y.getById=function(e){return n[e]||null},y.linear=function(e){return e},y.easeout=function(e){return Math.pow(e,1.7)},y.easein=function(e){return Math.pow(e,.48)},y.easeinout=function(e){if(1==e)return 1;if(0==e)return 0;var t=.48-e/1.04,n=Math.sqrt(.1734+t*t),r=n-t,i=Math.pow(Math.abs(r),1/3)*(0>r?-1:1),s=-n-t,o=Math.pow(Math.abs(s),1/3)*(0>s?-1:1),u=i+o+.5;return 3*(1-u)*u*u+u*u*u},y.backin=function(e){if(1==e)return 1;var t=1.70158;return e*e*((t+1)*e-t)},y.backout=function(e){if(0==e)return 0;e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},y.elastic=function(e){return e==!!e?e:Math.pow(2,-10*e)*Math.sin(2*(e-.075)*Math.PI/.3)+1},y.bounce=function(e){var t,n=7.5625,r=2.75;return 1/r>e?t=n*e*e:2/r>e?(e-=1.5/r,t=n*e*e+.75):2.5/r>e?(e-=2.25/r,t=n*e*e+.9375):(e-=2.625/r,t=n*e*e+.984375),t},e.mina=y,y}("undefined"==typeof t?function(){}:t),r=function(){function r(e,t){if(e){if(e.tagName)return k(e);if(s(e,"array")&&r.set)return r.set.apply(r,e);if(e instanceof x)return e;if(null==t)return e=L.doc.querySelector(e),k(e)}return e=null==e?"100%":e,t=null==t?"100%":t,new C(e,t)}function i(e,t){if(t){if("#text"==e&&(e=L.doc.createTextNode(t.text||"")),"string"==typeof e&&(e=i(e)),"string"==typeof t)return"xlink:"==t.substring(0,6)?e.getAttributeNS(G,t.substring(6)):"xml:"==t.substring(0,4)?e.getAttributeNS(Y,t.substring(4)):e.getAttribute(t);for(var n in t)if(t[A](n)){var r=O(t[n]);r?"xlink:"==n.substring(0,6)?e.setAttributeNS(G,n.substring(6),r):"xml:"==n.substring(0,4)?e.setAttributeNS(Y,n.substring(4),r):e.setAttribute(n,r):e.removeAttribute(n)}}else e=L.doc.createElementNS(Y,e);return e}function s(e,t){return t=O.prototype.toLowerCase.call(t),"finite"==t?isFinite(e):"array"==t&&(e instanceof Array||Array.isArray&&Array.isArray(e))?!0:"null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||q.call(e).slice(8,-1).toLowerCase()==t}function o(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)e[A](n)&&(t[n]=o(e[n]));return t}function u(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function f(e,t,n){function r(){var i=Array.prototype.slice.call(arguments,0),s=i.join("␀"),o=r.cache=r.cache||{},f=r.count=r.count||[];return o[A](s)?(u(f,s),n?n(o[s]):o[s]):(f.length>=1e3&&delete o[f.shift()],f.push(s),o[s]=e.apply(t,i),n?n(o[s]):o[s])}return r}function l(e,t,n,r,i,s){if(null==i){var o=e-n,u=t-r;return o||u?(180+180*D.atan2(-u,-o)/j+360)%360:0}return l(e,t,i,s)-l(n,r,i,s)}function h(e){return e%360*j/180}function p(e){return 180*e/j%360}function d(e){var t=[];return e=e.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(e,n,r){return r=r.split(/\s*,\s*|\s+/),"rotate"==n&&1==r.length&&r.push(0,0),"scale"==n&&(r.length>2?r=r.slice(0,2):2==r.length&&r.push(0,0),1==r.length&&r.push(r[0],0,0)),t.push("skewX"==n?["m",1,0,D.tan(h(r[0])),1,0,0]:"skewY"==n?["m",1,D.tan(h(r[0])),0,1,0,0]:[n.charAt(0)].concat(r)),e}),t}function v(e,t){var n=ut(e),i=new r.Matrix;if(n)for(var s=0,o=n.length;o>s;s++){var u,a,f,l,c,h=n[s],p=h.length,d=O(h[0]).toLowerCase(),v=h[0]!=d,m=v?i.invert():0;"t"==d&&2==p?i.translate(h[1],0):"t"==d&&3==p?v?(u=m.x(0,0),a=m.y(0,0),f=m.x(h[1],h[2]),l=m.y(h[1],h[2]),i.translate(f-u,l-a)):i.translate(h[1],h[2]):"r"==d?2==p?(c=c||t,i.rotate(h[1],c.x+c.width/2,c.y+c.height/2)):4==p&&(v?(f=m.x(h[2],h[3]),l=m.y(h[2],h[3]),i.rotate(h[1],f,l)):i.rotate(h[1],h[2],h[3])):"s"==d?2==p||3==p?(c=c||t,i.scale(h[1],h[p-1],c.x+c.width/2,c.y+c.height/2)):4==p?v?(f=m.x(h[2],h[3]),l=m.y(h[2],h[3]),i.scale(h[1],h[1],f,l)):i.scale(h[1],h[1],h[2],h[3]):5==p&&(v?(f=m.x(h[3],h[4]),l=m.y(h[3],h[4]),i.scale(h[1],h[2],f,l)):i.scale(h[1],h[2],h[3],h[4])):"m"==d&&7==p&&i.add(h[1],h[2],h[3],h[4],h[5],h[6])}return i}function m(e,t){if(null==t){var n=!0;if(t=e.node.getAttribute("linearGradient"==e.type||"radialGradient"==e.type?"gradientTransform":"pattern"==e.type?"patternTransform":"transform"),!t)return new r.Matrix;t=d(t)}else t=r._.rgTransform.test(t)?O(t).replace(/\.{3}|\u2026/g,e._.transform||F):d(t),s(t,"array")&&(t=r.path?r.path.toString.call(t):O(t)),e._.transform=t;var i=v(t,e.getBBox(1));return n?i:void (e.matrix=i)}function y(e){var t=e.node.ownerSVGElement&&k(e.node.ownerSVGElement)||e.node.parentNode&&k(e.node.parentNode)||r.select("svg")||r(0,0),n=t.select("defs"),i=null==n?!1:n.node;return i||(i=N("defs",t.node).node),i}function w(e){return e.node.ownerSVGElement&&k(e.node.ownerSVGElement)||r.select("svg")}function E(e,t,n){function r(e){if(null==e)return F;if(e==+e)return e;i(f,{width:e});try{return f.getBBox().width}catch(t){return 0}}function s(e){if(null==e)return F;if(e==+e)return e;i(f,{height:e});try{return f.getBBox().height}catch(t){return 0}}function o(r,i){null==t?a[r]=i(e.attr(r)||0):r==t&&(a=i(null==n?e.attr(r)||0:n))}var u=w(e).node,a={},f=u.querySelector(".svg---mgr");switch(f||(f=i("rect"),i(f,{x:-9e9,y:-9e9,width:10,height:10,"class":"svg---mgr",fill:"none"}),u.appendChild(f)),e.type){case"rect":o("rx",r),o("ry",s);case"image":o("width",r),o("height",s);case"text":o("x",r),o("y",s);break;case"circle":o("cx",r),o("cy",s),o("r",r);break;case"ellipse":o("cx",r),o("cy",s),o("rx",r),o("ry",s);break;case"line":o("x1",r),o("x2",r),o("y1",s),o("y2",s);break;case"marker":o("refX",r),o("markerWidth",r),o("refY",s),o("markerHeight",s);break;case"radialGradient":o("fx",r),o("fy",s);break;case"tspan":o("dx",r),o("dy",s);break;default:o(t,r)}return u.removeChild(f),a}function S(e){s(e,"array")||(e=Array.prototype.slice.call(arguments,0));for(var t=0,n=0,r=this.node;this[t];)delete this[t++];for(t=0;t<e.length;t++)"set"==e[t].type?e[t].forEach(function(e){r.appendChild(e.node)}):r.appendChild(e[t].node);var i=r.childNodes;for(t=0;t<i.length;t++)this[n++]=k(i[t]);return this}function x(e){if(e.snap in Z)return Z[e.snap];var t,n=this.id=Q();try{t=e.ownerSVGElement}catch(r){}if(this.node=e,t&&(this.paper=new C(t)),this.type=e.tagName,this.anims={},this._={transform:[]},e.snap=n,Z[n]=this,"g"==this.type&&(this.add=S),this.type in{g:1,mask:1,pattern:1})for(var i in C.prototype)C.prototype[A](i)&&(this[i]=C.prototype[i])}function T(e){this.node=e}function N(e,t){var n=i(e);t.appendChild(n);var r=k(n);return r}function C(e,t){var n,r,s,o=C.prototype;if(e&&"svg"==e.tagName){if(e.snap in Z)return Z[e.snap];var u=e.ownerDocument;n=new x(e),r=e.getElementsByTagName("desc")[0],s=e.getElementsByTagName("defs")[0],r||(r=i("desc"),r.appendChild(u.createTextNode("Created with Snap")),n.node.appendChild(r)),s||(s=i("defs"),n.node.appendChild(s)),n.defs=s;for(var a in o)o[A](a)&&(n[a]=o[a]);n.paper=n.root=n}else n=N("svg",L.doc.body),i(n.node,{height:t,version:1.1,width:e,xmlns:Y});return n}function k(e){return e?e instanceof x||e instanceof T?e:e.tagName&&"svg"==e.tagName.toLowerCase()?new C(e):e.tagName&&"object"==e.tagName.toLowerCase()&&"image/svg+xml"==e.type?new C(e.contentDocument.getElementsByTagName("svg")[0]):new x(e):e}r.version="0.3.0",r.toString=function(){return"Snap v"+this.version},r._={};var L={win:e,doc:e.document};r._.glob=L;var A="hasOwnProperty",O=String,M=parseFloat,_=parseInt,D=Math,P=D.max,H=D.min,B=D.abs,j=(D.pow,D.PI),F=(D.round,""),I=" ",q=Object.prototype.toString,R=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,U="   \n\f\r   ᠎             　\u2028\u2029",z=(r._.separator=new RegExp("[,"+U+"]+"),new RegExp("["+U+"]","g"),new RegExp("["+U+"]*,["+U+"]*")),W={hs:1,rg:1},X=new RegExp("([a-z])["+U+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+U+"]*,?["+U+"]*)+)","ig"),V=new RegExp("([rstm])["+U+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+U+"]*,?["+U+"]*)+)","ig"),$=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+U+"]*,?["+U+"]*","ig"),J=0,K="S"+(+(new Date)).toString(36),Q=function(){return K+(J++).toString(36)},G="http://www.w3.org/1999/xlink",Y="http://www.w3.org/2000/svg",Z={},et=r.url=function(e){return"url('#"+e+"')"};r._.$=i,r._.id=Q,r.format=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(e,n,r){var i=r;return n.replace(t,function(e,t,n,r,s){t=t||r,i&&(t in i&&(i=i[t]),"function"==typeof i&&s&&(i=i()))}),i=(null==i||i==r?e:i)+""};return function(t,r){return O(t).replace(e,function(e,t){return n(e,t,r)})}}(),r._.clone=o,r._.cacher=f,r.rad=h,r.deg=p,r.angle=l,r.is=s,r.snapTo=function(e,t,n){if(n=s(n,"finite")?n:10,s(e,"array")){for(var r=e.length;r--;)if(B(e[r]-t)<=n)return e[r]}else{e=+e;var i=t%e;if(n>i)return t-i;if(i>e-n)return t-i+e}return t},r.getRGB=f(function(e){if(!e||(e=O(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:it};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:it};if(!(W[A](e.toLowerCase().substring(0,2))||"#"==e.charAt())&&(e=tt(e)),!e)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:it};var t,n,i,o,u,a,f=e.match(R);return f?(f[2]&&(i=_(f[2].substring(5),16),n=_(f[2].substring(3,5),16),t=_(f[2].substring(1,3),16)),f[3]&&(i=_((u=f[3].charAt(3))+u,16),n=_((u=f[3].charAt(2))+u,16),t=_((u=f[3].charAt(1))+u,16)),f[4]&&(a=f[4].split(z),t=M(a[0]),"%"==a[0].slice(-1)&&(t*=2.55),n=M(a[1]),"%"==a[1].slice(-1)&&(n*=2.55),i=M(a[2]),"%"==a[2].slice(-1)&&(i*=2.55),"rgba"==f[1].toLowerCase().slice(0,4)&&(o=M(a[3])),a[3]&&"%"==a[3].slice(-1)&&(o/=100)),f[5]?(a=f[5].split(z),t=M(a[0]),"%"==a[0].slice(-1)&&(t/=100),n=M(a[1]),"%"==a[1].slice(-1)&&(n/=100),i=M(a[2]),"%"==a[2].slice(-1)&&(i/=100),("deg"==a[0].slice(-3)||"°"==a[0].slice(-1))&&(t/=360),"hsba"==f[1].toLowerCase().slice(0,4)&&(o=M(a[3])),a[3]&&"%"==a[3].slice(-1)&&(o/=100),r.hsb2rgb(t,n,i,o)):f[6]?(a=f[6].split(z),t=M(a[0]),"%"==a[0].slice(-1)&&(t/=100),n=M(a[1]),"%"==a[1].slice(-1)&&(n/=100),i=M(a[2]),"%"==a[2].slice(-1)&&(i/=100),("deg"==a[0].slice(-3)||"°"==a[0].slice(-1))&&(t/=360),"hsla"==f[1].toLowerCase().slice(0,4)&&(o=M(a[3])),a[3]&&"%"==a[3].slice(-1)&&(o/=100),r.hsl2rgb(t,n,i,o)):(t=H(D.round(t),255),n=H(D.round(n),255),i=H(D.round(i),255),o=H(P(o,0),1),f={r:t,g:n,b:i,toString:it},f.hex="#"+(16777216|i|n<<8|t<<16).toString(16).slice(1),f.opacity=s(o,"finite")?o:1,f)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:it}},r),r.hsb=f(function(e,t,n){return r.hsb2rgb(e,t,n).hex}),r.hsl=f(function(e,t,n){return r.hsl2rgb(e,t,n).hex}),r.rgb=f(function(e,t,n,r){if(s(r,"finite")){var i=D.round;return"rgba("+[i(e),i(t),i(n),+r.toFixed(2)]+")"}return"#"+(16777216|n|t<<8|e<<16).toString(16).slice(1)});var tt=function(e){var t=L.doc.getElementsByTagName("head")[0]||L.doc.getElementsByTagName("svg")[0],n="rgb(255, 0, 0)";return(tt=f(function(e){if("red"==e.toLowerCase())return n;t.style.color=n,t.style.color=e;var r=L.doc.defaultView.getComputedStyle(t,F).getPropertyValue("color");return r==n?null:r}))(e)},nt=function(){return"hsb("+[this.h,this.s,this.b]+")"},rt=function(){return"hsl("+[this.h,this.s,this.l]+")"},it=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},st=function(e,t,n){if(null==t&&s(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(n=e.b,t=e.g,e=e.r),null==t&&s(e,string)){var i=r.getRGB(e);e=i.r,t=i.g,n=i.b}return(e>1||t>1||n>1)&&(e/=255,t/=255,n/=255),[e,t,n]},ot=function(e,t,n,i){e=D.round(255*e),t=D.round(255*t),n=D.round(255*n);var o={r:e,g:t,b:n,opacity:s(i,"finite")?i:1,hex:r.rgb(e,t,n),toString:it};return s(i,"finite")&&(o.opacity=i),o};r.color=function(e){var t;return s(e,"object")&&"h"in e&&"s"in e&&"b"in e?(t=r.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):s(e,"object")&&"h"in e&&"s"in e&&"l"in e?(t=r.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):(s(e,"string")&&(e=r.getRGB(e)),s(e,"object")&&"r"in e&&"g"in e&&"b"in e&&!("error"in e)?(t=r.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=r.rgb2hsb(e),e.v=t.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1,e.error=1)),e.toString=it,e},r.hsb2rgb=function(e,t,n,r){s(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(n=e.b,t=e.s,e=e.h,r=e.o),e*=360;var i,o,u,a,f;return e=e%360/60,f=n*t,a=f*(1-B(e%2-1)),i=o=u=n-f,e=~~e,i+=[f,a,0,0,a,f][e],o+=[a,f,f,a,0,0][e],u+=[0,0,a,f,f,a][e],ot(i,o,u,r)},r.hsl2rgb=function(e,t,n,r){s(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(n=e.l,t=e.s,e=e.h),(e>1||t>1||n>1)&&(e/=360,t/=100,n/=100),e*=360;var i,o,u,a,f;return e=e%360/60,f=2*t*(.5>n?n:1-n),a=f*(1-B(e%2-1)),i=o=u=n-f/2,e=~~e,i+=[f,a,0,0,a,f][e],o+=[a,f,f,a,0,0][e],u+=[0,0,a,f,f,a][e],ot(i,o,u,r)},r.rgb2hsb=function(e,t,n){n=st(e,t,n),e=n[0],t=n[1],n=n[2];var r,i,s,o;return s=P(e,t,n),o=s-H(e,t,n),r=0==o?null:s==e?(t-n)/o:s==t?(n-e)/o+2:(e-t)/o+4,r=(r+360)%6*60/360,i=0==o?0:o/s,{h:r,s:i,b:s,toString:nt}},r.rgb2hsl=function(e,t,n){n=st(e,t,n),e=n[0],t=n[1],n=n[2];var r,i,s,o,u,a;return o=P(e,t,n),u=H(e,t,n),a=o-u,r=0==a?null:o==e?(t-n)/a:o==t?(n-e)/a+2:(e-t)/a+4,r=(r+360)%6*60/360,s=(o+u)/2,i=0==a?0:.5>s?a/(2*s):a/(2-2*s),{h:r,s:i,l:s,toString:rt}},r.parsePathString=function(e){if(!e)return null;var t=r.path(e);if(t.arr)return r.path.clone(t.arr);var n={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},i=[];return s(e,"array")&&s(e[0],"array")&&(i=r.path.clone(e)),i.length||O(e).replace(X,function(e,t,r){var s=[],o=t.toLowerCase();if(r.replace($,function(e,t){t&&s.push(+t)}),"m"==o&&s.length>2&&(i.push([t].concat(s.splice(0,2))),o="l",t="m"==t?"l":"L"),"o"==o&&1==s.length&&i.push([t,s[0]]),"r"==o)i.push([t].concat(s));else for(;s.length>=n[o]&&(i.push([t].concat(s.splice(0,n[o]))),n[o]););}),i.toString=r.path.toString,t.arr=r.path.clone(i),i};var ut=r.parseTransformString=function(e){if(!e)return null;var t=[];return s(e,"array")&&s(e[0],"array")&&(t=r.path.clone(e)),t.length||O(e).replace(V,function(e,n,r){{var i=[];n.toLowerCase()}r.replace($,function(e,t){t&&i.push(+t)}),t.push([n].concat(i))}),t.toString=r.path.toString,t};r._.svgTransform2string=d,r._.rgTransform=new RegExp("^[a-z]["+U+"]*-?\\.?\\d","i"),r._.transform2matrix=v,r._unit2px=E;L.doc.contains||L.doc.compareDocumentPosition?function(e,t){var n=9==e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e==r||!(!r||1!=r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t;)if(t=t.parentNode,t==e)return!0;return!1};r._.getSomeDefs=y,r._.getSomeSVG=w,r.select=function(e){return k(L.doc.querySelector(e))},r.selectAll=function(e){for(var t=L.doc.querySelectorAll(e),n=(r.set||Array)(),i=0;i<t.length;i++)n.push(k(t[i]));return n},setInterval(function(){for(var e in Z)if(Z[A](e)){var t=Z[e],n=t.node;("svg"!=t.type&&!n.ownerSVGElement||"svg"==t.type&&(!n.parentNode||"ownerSVGElement"in n.parentNode&&!n.ownerSVGElement))&&delete Z[e]}},1e4),function(e){function o(e){function t(e,t){var n=i(e.node,t);n=n&&n.match(o),n=n&&n[2],n&&"#"==n.charAt()&&(n=n.substring(1),n&&(a[n]=(a[n]||[]).concat(function(n){var r={};r[t]=et(n),i(e.node,r)})))}function n(e){var t=i(e.node,"xlink:href");t&&"#"==t.charAt()&&(t=t.substring(1),t&&(a[t]=(a[t]||[]).concat(function(t){e.attr("xlink:href","#"+t)})))}for(var r,s=e.selectAll("*"),o=/^\s*url\(("|'|)(.*)\1\)\s*$/,u=[],a={},f=0,l=s.length;l>f;f++){r=s[f],t(r,"fill"),t(r,"stroke"),t(r,"filter"),t(r,"mask"),t(r,"clip-path"),n(r);var c=i(r.node,"id");c&&(i(r.node,{id:r.id}),u.push({old:c,id:r.id}))}for(f=0,l=u.length;l>f;f++){var h=a[u[f].old];if(h)for(var p=0,d=h.length;d>p;p++)h[p](u[f].id)}}function u(e,t,n){return function(r){var i=r.slice(e,t);return 1==i.length&&(i=i[0]),n?n(i):i}}function a(e){return function(){var t=e?"<"+this.type:"",n=this.node.attributes,r=this.node.childNodes;if(e)for(var i=0,s=n.length;s>i;i++)t+=" "+n[i].name+'="'+n[i].value.replace(/"/g,'\\"')+'"';if(r.length){for(e&&(t+=">"),i=0,s=r.length;s>i;i++)3==r[i].nodeType?t+=r[i].nodeValue:1==r[i].nodeType&&(t+=k(r[i]).toString());e&&(t+="</"+this.type+">")}else e&&(t+="/>");return t}}e.attr=function(e,n){{var r=this;r.node}if(!e)return r;if(s(e,"string")){if(!(arguments.length>1))return t("snap.util.getattr."+e,r).firstDefined();var i={};i[e]=n,e=i}for(var o in e)e[A](o)&&t("snap.util.attr."+o,r,e[o]);return r},e.getBBox=function(e){if(!r.Matrix||!r.path)return this.node.getBBox();var t=this,n=new r.Matrix;if(t.removed)return r._.box();for(;"use"==t.type;)if(e||(n=n.add(t.transform().localMatrix.translate(t.attr("x")||0,t.attr("y")||0))),t.original)t=t.original;else{var i=t.attr("xlink:href");t=t.original=t.node.ownerDocument.getElementById(i.substring(i.indexOf("#")+1))}var s=t._,o=r.path.get[t.type]||r.path.get.deflt;try{return e?(s.bboxwt=o?r.path.getBBox(t.realPath=o(t)):r._.box(t.node.getBBox()),r._.box(s.bboxwt)):(t.realPath=o(t),t.matrix=t.transform().localMatrix,s.bbox=r.path.getBBox(r.path.map(t.realPath,n.add(t.matrix))),r._.box(s.bbox))}catch(u){return r._.box()}};var f=function(){return this.string};e.transform=function(e){var t=this._;if(null==e){for(var n,s=this,o=new r.Matrix(this.node.getCTM()),u=m(this),a=[u],l=new r.Matrix,c=u.toTransformString(),h=O(u)==O(this.matrix)?O(t.transform):c;"svg"!=s.type&&(s=s.parent());)a.push(m(s));for(n=a.length;n--;)l.add(a[n]);return{string:h,globalMatrix:o,totalMatrix:l,localMatrix:u,diffMatrix:o.clone().add(u.invert()),global:o.toTransformString(),total:l.toTransformString(),local:c,toString:f}}return e instanceof r.Matrix?this.matrix=e:m(this,e),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?i(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?i(this.node,{patternTransform:this.matrix}):i(this.node,{transform:this.matrix})),this},e.parent=function(){return k(this.node.parentNode)},e.append=e.add=function(e){if(e){if("set"==e.type){var t=this;return e.forEach(function(e){t.add(e)}),this}e=k(e),this.node.appendChild(e.node),e.paper=this.paper}return this},e.appendTo=function(e){return e&&(e=k(e),e.append(this)),this},e.prepend=function(e){if(e){if("set"==e.type){var t,n=this;return e.forEach(function(e){t?t.after(e):n.prepend(e),t=e}),this}e=k(e);var r=e.parent();this.node.insertBefore(e.node,this.node.firstChild),this.add&&this.add(),e.paper=this.paper,this.parent()&&this.parent().add(),r&&r.add()}return this},e.prependTo=function(e){return e=k(e),e.prepend(this),this},e.before=function(e){if("set"==e.type){var t=this;return e.forEach(function(e){var n=e.parent();t.node.parentNode.insertBefore(e.node,t.node),n&&n.add()}),this.parent().add(),this}e=k(e);var n=e.parent();return this.node.parentNode.insertBefore(e.node,this.node),this.parent()&&this.parent().add(),n&&n.add(),e.paper=this.paper,this},e.after=function(e){e=k(e);var t=e.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(e.node,this.node.nextSibling):this.node.parentNode.appendChild(e.node),this.parent()&&this.parent().add(),t&&t.add(),e.paper=this.paper,this},e.insertBefore=function(e){e=k(e);var t=this.parent();return e.node.parentNode.insertBefore(this.node,e.node),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},e.insertAfter=function(e){e=k(e);var t=this.parent();return e.node.parentNode.insertBefore(this.node,e.node.nextSibling),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},e.remove=function(){var e=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,e&&e.add(),this},e.select=function(e){return k(this.node.querySelector(e))},e.selectAll=function(e){for(var t=this.node.querySelectorAll(e),n=(r.set||Array)(),i=0;i<t.length;i++)n.push(k(t[i]));return n},e.asPX=function(e,t){return null==t&&(t=this.attr(e)),+E(this,e,t)},e.use=function(){var e,t=this.node.id;return t||(t=this.id,i(this.node,{id:t})),e="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?N(this.type,this.node.parentNode):N("use",this.node.parentNode),i(e.node,{"xlink:href":"#"+t}),e.original=this,e};var l=/\S+/g;e.addClass=function(e){var t,n,r,i,s=(e||"").match(l)||[],o=this.node,u=o.className.baseVal,a=u.match(l)||[];if(s.length){for(t=0;r=s[t++];)n=a.indexOf(r),~n||a.push(r);i=a.join(" "),u!=i&&(o.className.baseVal=i)}return this},e.removeClass=function(e){var t,n,r,i,s=(e||"").match(l)||[],o=this.node,u=o.className.baseVal,a=u.match(l)||[];if(a.length){for(t=0;r=s[t++];)n=a.indexOf(r),~n&&a.splice(n,1);i=a.join(" "),u!=i&&(o.className.baseVal=i)}return this},e.hasClass=function(e){var t=this.node,n=t.className.baseVal,r=n.match(l)||[];return!!~r.indexOf(e)},e.toggleClass=function(e,t){if(null!=t)return t?this.addClass(e):this.removeClass(e);var n,r,i,s,o=(e||"").match(l)||[],u=this.node,a=u.className.baseVal,f=a.match(l)||[];for(n=0;i=o[n++];)r=f.indexOf(i),~r?f.splice(r,1):f.push(i);return s=f.join(" "),a!=s&&(u.className.baseVal=s),this},e.clone=function(){var e=k(this.node.cloneNode(!0));return i(e.node,"id")&&i(e.node,{id:e.id}),o(e),e.insertAfter(this),e},e.toDefs=function(){var e=y(this);return e.appendChild(this.node),this},e.pattern=e.toPattern=function(e,t,n,r){var o=N("pattern",y(this));return null==e&&(e=this.getBBox()),s(e,"object")&&"x"in e&&(t=e.y,n=e.width,r=e.height,e=e.x),i(o.node,{x:e,y:t,width:n,height:r,patternUnits:"userSpaceOnUse",id:o.id,viewBox:[e,t,n,r].join(" ")}),o.node.appendChild(this.node),o},e.marker=function(e,t,n,r,o,u){var a=N("marker",y(this));return null==e&&(e=this.getBBox()),s(e,"object")&&"x"in e&&(t=e.y,n=e.width,r=e.height,o=e.refX||e.cx,u=e.refY||e.cy,e=e.x),i(a.node,{viewBox:[e,t,n,r].join(I),markerWidth:n,markerHeight:r,orient:"auto",refX:o||0,refY:u||0,id:a.id}),a.node.appendChild(this.node),a};var h=function(e,t,r,i){"function"!=typeof r||r.length||(i=r,r=n.linear),this.attr=e,this.dur=t,r&&(this.easing=r),i&&(this.callback=i)};r._.Animation=h,r.animation=function(e,t,n,r){return new h(e,t,n,r)},e.inAnim=function(){var e=this,t=[];for(var n in e.anims)e.anims[A](n)&&!function(e){t.push({anim:new h(e._attrs,e.dur,e.easing,e._callback),mina:e,curStatus:e.status(),status:function(t){return e.status(t)},stop:function(){e.stop()}})}(e.anims[n]);return t},r.animate=function(e,r,i,s,o,u){"function"!=typeof o||o.length||(u=o,o=n.linear);var a=n.time(),f=n(e,r,a,a+s,n.time,i,o);return u&&t.once("mina.finish."+f.id,u),f},e.stop=function(){for(var e=this.inAnim(),t=0,n=e.length;n>t;t++)e[t].stop();return this},e.animate=function(e,r,i,o){"function"!=typeof i||i.length||(o=i,i=n.linear),e instanceof h&&(o=e.callback,i=e.easing,r=i.dur,e=e.attr);var a,f,l,p,d=[],v=[],m={},g=this;for(var y in e)if(e[A](y)){g.equal?(p=g.equal(y,O(e[y])),a=p.from,f=p.to,l=p.f):(a=+g.attr(y),f=+e[y]);var w=s(a,"array")?a.length:1;m[y]=u(d.length,d.length+w,l),d=d.concat(a),v=v.concat(f)}var E=n.time(),S=n(d,v,E,E+r,n.time,function(e){var t={};for(var n in m)m[A](n)&&(t[n]=m[n](e));g.attr(t)},i);return g.anims[S.id]=S,S._attrs=e,S._callback=o,t("snap.animcreated."+g.id,S),t.once("mina.finish."+S.id,function(){delete g.anims[S.id],o&&o.call(g)}),t.once("mina.stop."+S.id,function(){delete g.anims[S.id]}),g};var p={};e.data=function(e,n){var i=p[this.id]=p[this.id]||{};if(0==arguments.length)return t("snap.data.get."+this.id,this,i,null),i;if(1==arguments.length){if(r.is(e,"object")){for(var s in e)e[A](s)&&this.data(s,e[s]);return this}return t("snap.data.get."+this.id,this,i[e],e),i[e]}return i[e]=n,t("snap.data.set."+this.id,this,n,e),this},e.removeData=function(e){return null==e?p[this.id]={}:p[this.id]&&delete p[this.id][e],this},e.outerSVG=e.toString=a(1),e.innerSVG=a()}(x.prototype),r.parse=function(e){var t=L.doc.createDocumentFragment(),n=!0,r=L.doc.createElement("div");if(e=O(e),e.match(/^\s*<\s*svg(?:\s|>)/)||(e="<svg>"+e+"</svg>",n=!1),r.innerHTML=e,e=r.getElementsByTagName("svg")[0])if(n)t=e;else for(;e.firstChild;)t.appendChild(e.firstChild);return r.innerHTML=F,new T(t)},T.prototype.select=x.prototype.select,T.prototype.selectAll=x.prototype.selectAll,r.fragment=function(){for(var e=Array.prototype.slice.call(arguments,0),t=L.doc.createDocumentFragment(),n=0,i=e.length;i>n;n++){var s=e[n];s.node&&s.node.nodeType&&t.appendChild(s.node),s.nodeType&&t.appendChild(s),"string"==typeof s&&t.appendChild(r.parse(s).node)}return new T(t)},r._.make=N,r._.wrap=k,C.prototype.el=function(e,t){var n=N(e,this.node);return t&&n.attr(t),n},t.on("snap.util.getattr",function(){var e=t.nt();e=e.substring(e.lastIndexOf(".")+1);var n=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});return at[A](n)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(n):i(this.node,e)});var at={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};t.on("snap.util.attr",function(e){var n=t.nt(),r={};n=n.substring(n.lastIndexOf(".")+1),r[n]=e;var s=n.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()}),o=n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});at[A](o)?this.node.style[s]=null==e?F:e:i(this.node,r)}),function(){}(C.prototype),r.ajax=function(e,n,r,i){var o=new XMLHttpRequest,u=Q();if(o){if(s(n,"function"))i=r,r=n,n=null;else if(s(n,"object")){var a=[];for(var f in n)n.hasOwnProperty(f)&&a.push(encodeURIComponent(f)+"="+encodeURIComponent(n[f]));n=a.join("&")}return o.open(n?"POST":"GET",e,!0),n&&(o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("Content-type","application/x-www-form-urlencoded")),r&&(t.once("snap.ajax."+u+".0",r),t.once("snap.ajax."+u+".200",r),t.once("snap.ajax."+u+".304",r)),o.onreadystatechange=function(){4==o.readyState&&t("snap.ajax."+u+"."+o.status,i,o)},4==o.readyState?o:(o.send(n),o)}},r.load=function(e,t,n){r.ajax(e,function(e){var i=r.parse(e.responseText);n?t.call(n,i):t(i)})};var ft=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.body,i=n.documentElement,s=i.clientTop||r.clientTop||0,o=i.clientLeft||r.clientLeft||0,u=t.top+(g.win.pageYOffset||i.scrollTop||r.scrollTop)-s,a=t.left+(g.win.pageXOffset||i.scrollLeft||r.scrollLeft)-o;return{y:u,x:a}};return r.getElementByPoint=function(e,t){var n=this,r=(n.canvas,L.doc.elementFromPoint(e,t));if(L.win.opera&&"svg"==r.tagName){var i=ft(r),s=r.createSVGRect();s.x=e-i.x,s.y=t-i.y,s.width=s.height=1;var o=r.getIntersectionList(s,null);o.length&&(r=o[o.length-1])}return r?k(r):null},r.plugin=function(e){e(r,x,C,L,T)},L.win.Snap=r,r}();return r.plugin(function(e){function t(e,t,r,i,s,o){return null==t&&"[object SVGMatrix]"==n.call(e)?(this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.e=e.e,void (this.f=e.f)):void (null!=e?(this.a=+e,this.b=+t,this.c=+r,this.d=+i,this.e=+s,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0))}var n=Object.prototype.toString,r=String,i=Math,s="";!function(n){function o(e){return e[0]*e[0]+e[1]*e[1]}function u(e){var t=i.sqrt(o(e));e[0]&&(e[0]/=t),e[1]&&(e[1]/=t)}n.add=function(e,n,r,i,s,o){var u,a,f,l,c=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],p=[[e,r,s],[n,i,o],[0,0,1]];for(e&&e instanceof t&&(p=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]),u=0;3>u;u++)for(a=0;3>a;a++){for(l=0,f=0;3>f;f++)l+=h[u][f]*p[f][a];c[u][a]=l}return this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2],this},n.invert=function(){var e=this,n=e.a*e.d-e.b*e.c;return new t(e.d/n,-e.b/n,-e.c/n,e.a/n,(e.c*e.f-e.d*e.e)/n,(e.b*e.e-e.a*e.f)/n)},n.clone=function(){return new t(this.a,this.b,this.c,this.d,this.e,this.f)},n.translate=function(e,t){return this.add(1,0,0,1,e,t)},n.scale=function(e,t,n,r){return null==t&&(t=e),(n||r)&&this.add(1,0,0,1,n,r),this.add(e,0,0,t,0,0),(n||r)&&this.add(1,0,0,1,-n,-r),this},n.rotate=function(t,n,r){t=e.rad(t),n=n||0,r=r||0;var s=+i.cos(t).toFixed(9),o=+i.sin(t).toFixed(9);return this.add(s,o,-o,s,n,r),this.add(1,0,0,1,-n,-r)},n.x=function(e,t){return e*this.a+t*this.c+this.e},n.y=function(e,t){return e*this.b+t*this.d+this.f},n.get=function(e){return+this[r.fromCharCode(97+e)].toFixed(4)},n.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},n.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},n.determinant=function(){return this.a*this.d-this.b*this.c},n.split=function(){var t={};t.dx=this.e,t.dy=this.f;var n=[[this.a,this.c],[this.b,this.d]];t.scalex=i.sqrt(o(n[0])),u(n[0]),t.shear=n[0][0]*n[1][0]+n[0][1]*n[1][1],n[1]=[n[1][0]-n[0][0]*t.shear,n[1][1]-n[0][1]*t.shear],t.scaley=i.sqrt(o(n[1])),u(n[1]),t.shear/=t.scaley,this.determinant()<0&&(t.scalex=-t.scalex);var r=-n[0][1],s=n[1][1];return 0>s?(t.rotate=e.deg(i.acos(s)),0>r&&(t.rotate=360-t.rotate)):t.rotate=e.deg(i.asin(r)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},n.toTransformString=function(e){var t=e||this.split();return+t.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[+t.dx.toFixed(4),+t.dy.toFixed(4)]:s)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:s)+(t.rotate?"r"+[+t.rotate.toFixed(4),0,0]:s))}}(t.prototype),e.Matrix=t,e.matrix=function(e,n,r,i,s,o){return new t(e,n,r,i,s,o)}}),r.plugin(function(e,n,r,i,s){function o(r){return function(i){if(t.stop(),i instanceof s&&1==i.node.childNodes.length&&("radialGradient"==i.node.firstChild.tagName||"linearGradient"==i.node.firstChild.tagName||"pattern"==i.node.firstChild.tagName)&&(i=i.node.firstChild,p(this).appendChild(i),i=c(i)),i instanceof n)if("radialGradient"==i.type||"linearGradient"==i.type||"pattern"==i.type){i.node.id||v(i.node,{id:i.id});var o=m(i.node.id)}else o=i.attr(r);else if(o=e.color(i),o.error){var u=e(p(this).ownerSVGElement).gradient(i);u?(u.node.id||v(u.node,{id:u.id}),o=m(u.node.id)):o=i}else o=g(o);var a={};a[r]=o,v(this.node,a),this.node.style[r]=w}}function u(e){t.stop(),e==+e&&(e+="px"),this.node.style.fontSize=e}function a(e){for(var t=[],n=e.childNodes,r=0,i=n.length;i>r;r++){var s=n[r];3==s.nodeType&&t.push(s.nodeValue),"tspan"==s.tagName&&t.push(1==s.childNodes.length&&3==s.firstChild.nodeType?s.firstChild.nodeValue:a(s))}return t}function f(){return t.stop(),this.node.style.fontSize}var l=e._.make,c=e._.wrap,h=e.is,p=e._.getSomeDefs,d=/^url\(#?([^)]+)\)$/,v=e._.$,m=e.url,g=String,y=e._.separator,w="";t.on("snap.util.attr.mask",function(e){if(e instanceof n||e instanceof s){if(t.stop(),e instanceof s&&1==e.node.childNodes.length&&(e=e.node.firstChild,p(this).appendChild(e),e=c(e)),"mask"==e.type)var r=e;else r=l("mask",p(this)),r.node.appendChild(e.node);!r.node.id&&v(r.node,{id:r.id}),v(this.node,{mask:m(r.id)})}}),function(e){t.on("snap.util.attr.clip",e),t.on("snap.util.attr.clip-path",e),t.on("snap.util.attr.clipPath",e)}(function(e){if(e instanceof n||e instanceof s){if(t.stop(),"clipPath"==e.type)var r=e;else r=l("clipPath",p(this)),r.node.appendChild(e.node),!r.node.id&&v(r.node,{id:r.id});v(this.node,{"clip-path":m(r.id)})}}),t.on("snap.util.attr.fill",o("fill")),t.on("snap.util.attr.stroke",o("stroke"));var E=/^([lr])(?:\(([^)]*)\))?(.*)$/i;t.on("snap.util.grad.parse",function(e){e=g(e);var t=e.match(E);if(!t)return null;var n=t[1],r=t[2],i=t[3];return r=r.split(/\s*,\s*/).map(function(e){return+e==e?+e:e}),1==r.length&&0==r[0]&&(r=[]),i=i.split("-"),i=i.map(function(e){e=e.split(":");var t={color:e[0]};return e[1]&&(t.offset=parseFloat(e[1])),t}),{type:n,params:r,stops:i}}),t.on("snap.util.attr.d",function(n){t.stop(),h(n,"array")&&h(n[0],"array")&&(n=e.path.toString.call(n)),n=g(n),n.match(/[ruo]/i)&&(n=e.path.toAbsolute(n)),v(this.node,{d:n})})(-1),t.on("snap.util.attr.#text",function(e){t.stop(),e=g(e);for(var n=i.doc.createTextNode(e);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(n)})(-1),t.on("snap.util.attr.path",function(e){t.stop(),this.attr({d:e})})(-1),t.on("snap.util.attr.class",function(e){t.stop(),this.node.className.baseVal=e})(-1),t.on("snap.util.attr.viewBox",function(e){var n;n=h(e,"object")&&"x"in e?[e.x,e.y,e.width,e.height].join(" "):h(e,"array")?e.join(" "):e,v(this.node,{viewBox:n}),t.stop()})(-1),t.on("snap.util.attr.transform",function(e){this.transform(e),t.stop()})(-1),t.on("snap.util.attr.r",function(e){"rect"==this.type&&(t.stop(),v(this.node,{rx:e,ry:e}))})(-1),t.on("snap.util.attr.textpath",function(e){if(t.stop(),"text"==this.type){var r,i,s;if(!e&&this.textPath){for(i=this.textPath;i.node.firstChild;)this.node.appendChild(i.node.firstChild);return i.remove(),void delete this.textPath}if(h(e,"string")){var o=p(this),u=c(o.parentNode).path(e);o.appendChild(u.node),r=u.id,u.attr({id:r})}else e=c(e),e instanceof n&&(r=e.attr("id"),r||(r=e.id,e.attr({id:r})));if(r)if(i=this.textPath,s=this.node,i)i.attr({"xlink:href":"#"+r});else{for(i=v("textPath",{"xlink:href":"#"+r});s.firstChild;)i.appendChild(s.firstChild);s.appendChild(i),this.textPath=c(i)}}})(-1),t.on("snap.util.attr.text",function(e){if("text"==this.type){for(var n=this.node,r=function(e){var t=v("tspan");if(h(e,"array"))for(var n=0;n<e.length;n++)t.appendChild(r(e[n]));else t.appendChild(i.doc.createTextNode(e));return t.normalize&&t.normalize(),t};n.firstChild;)n.removeChild(n.firstChild);for(var s=r(e);s.firstChild;)n.appendChild(s.firstChild)}t.stop()})(-1),t.on("snap.util.attr.fontSize",u)(-1),t.on("snap.util.attr.font-size",u)(-1),t.on("snap.util.getattr.transform",function(){return t.stop(),this.transform()})(-1),t.on("snap.util.getattr.textpath",function(){return t.stop(),this.textPath})(-1),function(){function n(n){return function(){t.stop();var r=i.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+n);return"none"==r?r:e(i.doc.getElementById(r.match(d)[1]))}}function r(e){return function(n){t.stop();var r="marker"+e.charAt(0).toUpperCase()+e.substring(1);if(""==n||!n)return void (this.node.style[r]="none");if("marker"==n.type){var i=n.node.id;return i||v(n.node,{id:n.id}),void (this.node.style[r]=m(i))}}}t.on("snap.util.getattr.marker-end",n("end"))(-1),t.on("snap.util.getattr.markerEnd",n("end"))(-1),t.on("snap.util.getattr.marker-start",n("start"))(-1),t.on("snap.util.getattr.markerStart",n("start"))(-1),t.on("snap.util.getattr.marker-mid",n("mid"))(-1),t.on("snap.util.getattr.markerMid",n("mid"))(-1),t.on("snap.util.attr.marker-end",r("end"))(-1),t.on("snap.util.attr.markerEnd",r("end"))(-1),t.on("snap.util.attr.marker-start",r("start"))(-1),t.on("snap.util.attr.markerStart",r("start"))(-1),t.on("snap.util.attr.marker-mid",r("mid"))(-1),t.on("snap.util.attr.markerMid",r("mid"))(-1)}(),t.on("snap.util.getattr.r",function(){return"rect"==this.type&&v(this.node,"rx")==v(this.node,"ry")?(t.stop(),v(this.node,"rx")):void 0})(-1),t.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){t.stop();var e=a(this.node);return 1==e.length?e[0]:e}})(-1),t.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),t.on("snap.util.getattr.viewBox",function(){t.stop();var n=v(this.node,"viewBox");return n?(n=n.split(y),e._.box(+n[0],+n[1],+n[2],+n[3])):void 0})(-1),t.on("snap.util.getattr.points",function(){var e=v(this.node,"points");return t.stop(),e?e.split(y):void 0})(-1),t.on("snap.util.getattr.path",function(){var e=v(this.node,"d");return t.stop(),e})(-1),t.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),t.on("snap.util.getattr.fontSize",f)(-1),t.on("snap.util.getattr.font-size",f)(-1)}),r.plugin(function(){function e(e){return e}function n(e){return function(t){return+t.toFixed(3)+e}}var r={"+":function(e,t){return e+t},"-":function(e,t){return e-t},"/":function(e,t){return e/t},"*":function(e,t){return e*t}},i=String,s=/[a-z]+$/i,o=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;t.on("snap.util.attr",function(e){var n=i(e).match(o);if(n){var u=t.nt(),a=u.substring(u.lastIndexOf(".")+1),l=this.attr(a),c={};t.stop();var h=n[3]||"",p=l.match(s),v=r[n[1]];if(p&&p==h?e=v(parseFloat(l),+n[2]):(l=this.asPX(a),e=v(this.asPX(a),this.asPX(a,n[2]+h))),isNaN(l)||isNaN(e))return;c[a]=e,this.attr(c)}})(-10),t.on("snap.util.equal",function(u,l){var h=i(this.attr(u)||""),p=i(l).match(o);if(p){t.stop();var v=p[3]||"",m=h.match(s),y=r[p[1]];return m&&m==v?{from:parseFloat(h),to:y(parseFloat(h),+p[2]),f:n(m)}:(h=this.asPX(u),{from:h,to:y(h,this.asPX(u,p[2]+v)),f:e})}})(-10)}),r.plugin(function(e,n,r,i){var s=r.prototype,o=e.is;s.rect=function(e,t,n,r,i,s){var u;return null==s&&(s=i),o(e,"object")&&"[object Object]"==e?u=e:null!=e&&(u={x:e,y:t,width:n,height:r},null!=i&&(u.rx=i,u.ry=s)),this.el("rect",u)},s.circle=function(e,t,n){var r;return o(e,"object")&&"[object Object]"==e?r=e:null!=e&&(r={cx:e,cy:t,r:n}),this.el("circle",r)};var u=function(){function e(){this.parentNode.removeChild(this)}return function(t,n){var r=i.doc.createElement("img"),s=i.doc.body;r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){n.call(r),r.onload=r.onerror=null,s.removeChild(r)},r.onerror=e,s.appendChild(r),r.src=t}}();s.image=function(t,n,r,i,s){var f=this.el("image");if(o(t,"object")&&"src"in t)f.attr(t);else if(null!=t){var l={"xlink:href":t,preserveAspectRatio:"none"};null!=n&&null!=r&&(l.x=n,l.y=r),null!=i&&null!=s?(l.width=i,l.height=s):u(t,function(){e._.$(f.node,{width:this.offsetWidth,height:this.offsetHeight})}),e._.$(f.node,l)}return f},s.ellipse=function(e,t,n,r){var i;return o(e,"object")&&"[object Object]"==e?i=e:null!=e&&(i={cx:e,cy:t,rx:n,ry:r}),this.el("ellipse",i)},s.path=function(e){var t;return o(e,"object")&&!o(e,"array")?t=e:e&&(t={d:e}),this.el("path",t)},s.group=s.g=function(e){var t=this.el("g");return 1==arguments.length&&e&&!e.type?t.attr(e):arguments.length&&t.add(Array.prototype.slice.call(arguments,0)),t},s.svg=function(e,t,n,r,i,s,u,a){var f={};return o(e,"object")&&null==t?f=e:(null!=e&&(f.x=e),null!=t&&(f.y=t),null!=n&&(f.width=n),null!=r&&(f.height=r),null!=i&&null!=s&&null!=u&&null!=a&&(f.viewBox=[i,s,u,a])),this.el("svg",f)},s.mask=function(e){var t=this.el("mask");return 1==arguments.length&&e&&!e.type?t.attr(e):arguments.length&&t.add(Array.prototype.slice.call(arguments,0)),t},s.ptrn=function(e,t,n,r,i,s,u,a){if(o(e,"object"))var f=e;else arguments.length?(f={},null!=e&&(f.x=e),null!=t&&(f.y=t),null!=n&&(f.width=n),null!=r&&(f.height=r),null!=i&&null!=s&&null!=u&&null!=a&&(f.viewBox=[i,s,u,a])):f={patternUnits:"userSpaceOnUse"};return this.el("pattern",f)},s.use=function(e){if(null!=e){{make("use",this.node)}return e instanceof n&&(e.attr("id")||e.attr({id:ID()}),e=e.attr("id")),this.el("use",{"xlink:href":e})}return n.prototype.use.call(this)},s.text=function(e,t,n){var r={};return o(e,"object")?r=e:null!=e&&(r={x:e,y:t,text:n||""}),this.el("text",r)},s.line=function(e,t,n,r){var i={};return o(e,"object")?i=e:null!=e&&(i={x1:e,x2:n,y1:t,y2:r}),this.el("line",i)},s.polyline=function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments,0));var t={};return o(e,"object")&&!o(e,"array")?t=e:null!=e&&(t={points:e}),this.el("polyline",t)},s.polygon=function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments,0));var t={};return o(e,"object")&&!o(e,"array")?t=e:null!=e&&(t={points:e}),this.el("polygon",t)},function(){function n(){return this.selectAll("stop")}function r(t,n){var r=c("stop"),i={offset:+n+"%"};return t=e.color(t),i["stop-color"]=t.hex,t.opacity<1&&(i["stop-opacity"]=t.opacity),c(r,i),this.node.appendChild(r),this}function i(){if("linearGradient"==this.type){var t=c(this.node,"x1")||0,n=c(this.node,"x2")||1,r=c(this.node,"y1")||0,i=c(this.node,"y2")||0;return e._.box(t,r,math.abs(n-t),math.abs(i-r))}var s=this.node.cx||.5,o=this.node.cy||.5,u=this.node.r||0;return e._.box(s-u,o-u,2*u,2*u)}function o(e,n){function r(e,t){for(var n=(t-f)/(e-p),r=p;e>r;r++)o[r].offset=+(+f+n*(r-p)).toFixed(2);p=e,f=t}var i,s=t("snap.util.grad.parse",null,n).firstDefined();if(!s)return null;s.params.unshift(e),i="l"==s.type.toLowerCase()?u.apply(0,s.params):l.apply(0,s.params),s.type!=s.type.toLowerCase()&&c(i.node,{gradientUnits:"userSpaceOnUse"});var o=s.stops,a=o.length,f=0,p=0;a--;for(var d=0;a>d;d++)"offset"in o[d]&&r(d,o[d].offset);for(o[a].offset=o[a].offset||100,r(a,o[a].offset),d=0;a>=d;d++){var v=o[d];i.addStop(v.color,v.offset)}return i}function u(t,s,o,u,f){var l=e._.make("linearGradient",t);return l.stops=n,l.addStop=r,l.getBBox=i,null!=s&&c(l.node,{x1:s,y1:o,x2:u,y2:f}),l}function l(t,s,o,u,f,l){var h=e._.make("radialGradient",t);return h.stops=n,h.addStop=r,h.getBBox=i,null!=s&&c(h.node,{cx:s,cy:o,r:u}),null!=f&&null!=l&&c(h.node,{fx:f,fy:l}),h}var c=e._.$;s.gradient=function(e){return o(this.defs,e)},s.gradientLinear=function(e,t,n,r){return u(this.defs,e,t,n,r)},s.gradientRadial=function(e,t,n,r,i){return l(this.defs,e,t,n,r,i)},s.toString=function(){var t,n=this.node.ownerDocument,r=n.createDocumentFragment(),i=n.createElement("div"),s=this.node.cloneNode(!0);return r.appendChild(i),i.appendChild(s),e._.$(s,{xmlns:"http://www.w3.org/2000/svg"}),t=i.innerHTML,r.removeChild(r.firstChild),t},s.clear=function(){for(var e,t=this.node.firstChild;t;)e=t.nextSibling,"defs"!=t.tagName?t.parentNode.removeChild(t):s.clear.call({node:t}),t=e}}()}),r.plugin(function(e,t){function n(e){var t=n.ps=n.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var n in t)t[B](n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])}),t[e]}function r(e,t,n,r){return null==e&&(e=t=n=r=0),null==t&&(t=e.y,n=e.width,r=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:r,h:r,x2:e+n,y2:t+r,cx:e+n/2,cy:t+r/2,r1:I.min(n,r)/2,r2:I.max(n,r)/2,r0:I.sqrt(n*n+r*r)/2,path:S(e,t,n,r),vb:[e,t,n,r].join(" ")}}function i(){return this.join(",").replace(j,"$1")}function s(e){var t=H(e);return t.toString=i,t}function o(e,t,n,r,i,s,o,u,f){return null==f?p(e,t,n,r,i,s,o,u):a(e,t,n,r,i,s,o,u,d(e,t,n,r,i,s,o,u,f))}function u(n,r){function i(e){return+(+e).toFixed(3)}return e._.cacher(function(e,s,u){e instanceof t&&(e=e.attr("d")),e=O(e);for(var f,l,c,h,p,d="",v={},m=0,g=0,y=e.length;y>g;g++){if(c=e[g],"M"==c[0])f=+c[1],l=+c[2];else{if(h=o(f,l,c[1],c[2],c[3],c[4],c[5],c[6]),m+h>s){if(r&&!v.start){if(p=o(f,l,c[1],c[2],c[3],c[4],c[5],c[6],s-m),d+=["C"+i(p.start.x),i(p.start.y),i(p.m.x),i(p.m.y),i(p.x),i(p.y)],u)return d;v.start=d,d=["M"+i(p.x),i(p.y)+"C"+i(p.n.x),i(p.n.y),i(p.end.x),i(p.end.y),i(c[5]),i(c[6])].join(),m+=h,f=+c[5],l=+c[6];continue}if(!n&&!r)return p=o(f,l,c[1],c[2],c[3],c[4],c[5],c[6],s-m)}m+=h,f=+c[5],l=+c[6]}d+=c.shift()+c}return v.end=d,p=n?m:r?v:a(f,l,c[0],c[1],c[2],c[3],c[4],c[5],1)},null,e._.clone)}function a(e,t,n,r,i,s,o,u,a){var f=1-a,l=z(f,3),c=z(f,2),h=a*a,p=h*a,d=l*e+3*c*a*n+3*f*a*a*i+p*o,v=l*t+3*c*a*r+3*f*a*a*s+p*u,m=e+2*a*(n-e)+h*(i-2*n+e),g=t+2*a*(r-t)+h*(s-2*r+t),y=n+2*a*(i-n)+h*(o-2*i+n),b=r+2*a*(s-r)+h*(u-2*s+r),w=f*e+a*n,E=f*t+a*r,S=f*i+a*o,x=f*s+a*u,T=90-180*I.atan2(m-y,g-b)/q;return{x:d,y:v,m:{x:m,y:g},n:{x:y,y:b},start:{x:w,y:E},end:{x:S,y:x},alpha:T}}function f(t,n,i,s,o,u,a,f){e.is(t,"array")||(t=[t,n,i,s,o,u,a,f]);var l=A.apply(null,t);return r(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)}function l(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function c(e,t){return e=r(e),t=r(t),l(t,e.x,e.y)||l(t,e.x2,e.y)||l(t,e.x,e.y2)||l(t,e.x2,e.y2)||l(e,t.x,t.y)||l(e,t.x2,t.y)||l(e,t.x,t.y2)||l(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}function h(e,t,n,r,i){var s=-3*t+9*n-9*r+3*i,o=e*s+6*t-12*n+6*r;return e*o-3*t+3*n}function p(e,t,n,r,i,s,o,u,a){null==a&&(a=1),a=a>1?1:0>a?0:a;for(var f=a/2,l=12,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,v=0;l>v;v++){var m=f*c[v]+f,g=h(m,e,n,i,o),y=h(m,t,r,s,u),b=g*g+y*y;d+=p[v]*I.sqrt(b)}return f*d}function d(e,t,n,r,i,s,o,u,a){if(!(0>a||p(e,t,n,r,i,s,o,u)<a)){var f,l=1,c=l/2,h=l-c,d=.01;for(f=p(e,t,n,r,i,s,o,u,h);W(f-a)>d;)c/=2,h+=(a>f?1:-1)*c,f=p(e,t,n,r,i,s,o,u,h);return h}}function v(e,t,n,r,i,s,o,u){if(!(U(e,n)<R(i,o)||R(e,n)>U(i,o)||U(t,r)<R(s,u)||R(t,r)>U(s,u))){var a=(e*r-t*n)*(i-o)-(e-n)*(i*u-s*o),f=(e*r-t*n)*(s-u)-(t-r)*(i*u-s*o),l=(e-n)*(s-u)-(t-r)*(i-o);if(l){var c=a/l,h=f/l,p=+c.toFixed(2),d=+h.toFixed(2);if(!(p<+R(e,n).toFixed(2)||p>+U(e,n).toFixed(2)||p<+R(i,o).toFixed(2)||p>+U(i,o).toFixed(2)||d<+R(t,r).toFixed(2)||d>+U(t,r).toFixed(2)||d<+R(s,u).toFixed(2)||d>+U(s,u).toFixed(2)))return{x:c,y:h}}}}function m(e,t,n){var r=f(e),i=f(t);if(!c(r,i))return n?0:[];for(var s=p.apply(0,e),o=p.apply(0,t),u=~~(s/8),l=~~(o/8),h=[],d=[],m={},g=n?0:[],y=0;u+1>y;y++){var b=a.apply(0,e.concat(y/u));h.push({x:b.x,y:b.y,t:y/u})}for(y=0;l+1>y;y++)b=a.apply(0,t.concat(y/l)),d.push({x:b.x,y:b.y,t:y/l});for(y=0;u>y;y++)for(var w=0;l>w;w++){var E=h[y],S=h[y+1],x=d[w],T=d[w+1],N=W(S.x-E.x)<.001?"y":"x",C=W(T.x-x.x)<.001?"y":"x",k=v(E.x,E.y,S.x,S.y,x.x,x.y,T.x,T.y);if(k){if(m[k.x.toFixed(4)]==k.y.toFixed(4))continue;m[k.x.toFixed(4)]=k.y.toFixed(4);var L=E.t+W((k[N]-E[N])/(S[N]-E[N]))*(S.t-E.t),A=x.t+W((k[C]-x[C])/(T[C]-x[C]))*(T.t-x.t);L>=0&&1>=L&&A>=0&&1>=A&&(n?g++:g.push({x:k.x,y:k.y,t1:L,t2:A}))}}return g}function g(e,t){return b(e,t)}function y(e,t){return b(e,t,1)}function b(e,t,n){e=O(e),t=O(t);for(var r,i,s,o,u,a,f,l,c,h,p=n?0:[],d=0,v=e.length;v>d;d++){var g=e[d];if("M"==g[0])r=u=g[1],i=a=g[2];else{"C"==g[0]?(c=[r,i].concat(g.slice(1)),r=c[6],i=c[7]):(c=[r,i,r,i,u,a,u,a],r=u,i=a);for(var y=0,b=t.length;b>y;y++){var w=t[y];if("M"==w[0])s=f=w[1],o=l=w[2];else{"C"==w[0]?(h=[s,o].concat(w.slice(1)),s=h[6],o=h[7]):(h=[s,o,s,o,f,l,f,l],s=f,o=l);var E=m(c,h,n);if(n)p+=E;else{for(var S=0,x=E.length;x>S;S++)E[S].segment1=d,E[S].segment2=y,E[S].bez1=c,E[S].bez2=h;p=p.concat(E)}}}}}return p}function w(e,t,n){var r=E(e);return l(r,t,n)&&b(e,[["M",t,n],["H",r.x2+10]],1)%2==1}function E(e){var t=n(e);if(t.bbox)return H(t.bbox);if(!e)return r();e=O(e);for(var i,s=0,o=0,u=[],a=[],f=0,l=e.length;l>f;f++)if(i=e[f],"M"==i[0])s=i[1],o=i[2],u.push(s),a.push(o);else{var c=A(s,o,i[1],i[2],i[3],i[4],i[5],i[6]);u=u.concat(c.min.x,c.max.x),a=a.concat(c.min.y,c.max.y),s=i[5],o=i[6]}var h=R.apply(0,u),p=R.apply(0,a),d=U.apply(0,u),v=U.apply(0,a),m=r(h,p,d-h,v-p);return t.bbox=H(m),m}function S(e,t,n,r,s){if(s)return[["M",+e+ +s,t],["l",n-2*s,0],["a",s,s,0,0,1,s,s],["l",0,r-2*s],["a",s,s,0,0,1,-s,s],["l",2*s-n,0],["a",s,s,0,0,1,-s,-s],["l",0,2*s-r],["a",s,s,0,0,1,s,-s],["z"]];var o=[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.toString=i,o}function x(e,t,n,r,s){if(null==s&&null==r&&(r=n),e=+e,t=+t,n=+n,r=+r,null!=s)var o=Math.PI/180,u=e+n*Math.cos(-r*o),a=e+n*Math.cos(-s*o),f=t+n*Math.sin(-r*o),l=t+n*Math.sin(-s*o),c=[["M",u,f],["A",n,n,0,+(s-r>180),0,a,l]];else c=[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return c.toString=i,c}function T(t){var r=n(t),o=String.prototype.toLowerCase;if(r.rel)return s(r.rel);e.is(t,"array")&&e.is(t&&t[0],"array")||(t=e.parsePathString(t));var u=[],a=0,f=0,l=0,c=0,h=0;"M"==t[0][0]&&(a=t[0][1],f=t[0][2],l=a,c=f,h++,u.push(["M",a,f]));for(var p=h,d=t.length;d>p;p++){var v=u[p]=[],m=t[p];if(m[0]!=o.call(m[0]))switch(v[0]=o.call(m[0]),v[0]){case"a":v[1]=m[1],v[2]=m[2],v[3]=m[3],v[4]=m[4],v[5]=m[5],v[6]=+(m[6]-a).toFixed(3),v[7]=+(m[7]-f).toFixed(3);break;case"v":v[1]=+(m[1]-f).toFixed(3);break;case"m":l=m[1],c=m[2];default:for(var g=1,y=m.length;y>g;g++)v[g]=+(m[g]-(g%2?a:f)).toFixed(3)}else{v=u[p]=[],"m"==m[0]&&(l=m[1]+a,c=m[2]+f);for(var b=0,w=m.length;w>b;b++)u[p][b]=m[b]}var E=u[p].length;switch(u[p][0]){case"z":a=l,f=c;break;case"h":a+=+u[p][E-1];break;case"v":f+=+u[p][E-1];break;default:a+=+u[p][E-2],f+=+u[p][E-1]}}return u.toString=i,r.rel=s(u),u}function N(t){var r=n(t);if(r.abs)return s(r.abs);if(P(t,"array")&&P(t&&t[0],"array")||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var o,u=[],a=0,f=0,l=0,c=0,h=0;"M"==t[0][0]&&(a=+t[0][1],f=+t[0][2],l=a,c=f,h++,u[0]=["M",a,f]);for(var p,d,v=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),m=h,g=t.length;g>m;m++){if(u.push(p=[]),d=t[m],o=d[0],o!=o.toUpperCase())switch(p[0]=o.toUpperCase(),p[0]){case"A":p[1]=d[1],p[2]=d[2],p[3]=d[3],p[4]=d[4],p[5]=d[5],p[6]=+d[6]+a,p[7]=+d[7]+f;break;case"V":p[1]=+d[1]+f;break;case"H":p[1]=+d[1]+a;break;case"R":for(var y=[a,f].concat(d.slice(1)),b=2,w=y.length;w>b;b++)y[b]=+y[b]+a,y[++b]=+y[b]+f;u.pop(),u=u.concat(_(y,v));break;case"O":u.pop(),y=x(a,f,d[1],d[2]),y.push(y[0]),u=u.concat(y);break;case"U":u.pop(),u=u.concat(x(a,f,d[1],d[2],d[3])),p=["U"].concat(u[u.length-1].slice(-2));break;case"M":l=+d[1]+a,c=+d[2]+f;default:for(b=1,w=d.length;w>b;b++)p[b]=+d[b]+(b%2?a:f)}else if("R"==o)y=[a,f].concat(d.slice(1)),u.pop(),u=u.concat(_(y,v)),p=["R"].concat(d.slice(-2));else if("O"==o)u.pop(),y=x(a,f,d[1],d[2]),y.push(y[0]),u=u.concat(y);else if("U"==o)u.pop(),u=u.concat(x(a,f,d[1],d[2],d[3])),p=["U"].concat(u[u.length-1].slice(-2));else for(var E=0,S=d.length;S>E;E++)p[E]=d[E];if(o=o.toUpperCase(),"O"!=o)switch(p[0]){case"Z":a=+l,f=+c;break;case"H":a=p[1];break;case"V":f=p[1];break;case"M":l=p[p.length-2],c=p[p.length-1];default:a=p[p.length-2],f=p[p.length-1]}}return u.toString=i,r.abs=s(u),u}function C(e,t,n,r){return[e,t,n,r,n,r]}function k(e,t,n,r,i,s){var o=1/3,u=2/3;return[o*e+u*n,o*t+u*r,o*i+u*n,o*s+u*r,i,s]}function L(t,n,r,i,s,o,u,a,f,l){var c,h=120*q/180,p=q/180*(+s||0),d=[],v=e._.cacher(function(e,t,n){var r=e*I.cos(n)-t*I.sin(n),i=e*I.sin(n)+t*I.cos(n);return{x:r,y:i}});if(l)T=l[0],N=l[1],S=l[2],x=l[3];else{c=v(t,n,-p),t=c.x,n=c.y,c=v(a,f,-p),a=c.x,f=c.y;var m=(I.cos(q/180*s),I.sin(q/180*s),(t-a)/2),g=(n-f)/2,y=m*m/(r*r)+g*g/(i*i);y>1&&(y=I.sqrt(y),r=y*r,i=y*i);var b=r*r,w=i*i,E=(o==u?-1:1)*I.sqrt(W((b*w-b*g*g-w*m*m)/(b*g*g+w*m*m))),S=E*r*g/i+(t+a)/2,x=E*-i*m/r+(n+f)/2,T=I.asin(((n-x)/i).toFixed(9)),N=I.asin(((f-x)/i).toFixed(9));T=S>t?q-T:T,N=S>a?q-N:N,0>T&&(T=2*q+T),0>N&&(N=2*q+N),u&&T>N&&(T-=2*q),!u&&N>T&&(N-=2*q)}var C=N-T;if(W(C)>h){var k=N,A=a,O=f;N=T+h*(u&&N>T?1:-1),a=S+r*I.cos(N),f=x+i*I.sin(N),d=L(a,f,r,i,s,0,u,A,O,[N,k,S,x])}C=N-T;var M=I.cos(T),_=I.sin(T),D=I.cos(N),P=I.sin(N),H=I.tan(C/4),B=4/3*r*H,j=4/3*i*H,F=[t,n],R=[t+B*_,n-j*M],U=[a+B*P,f-j*D],z=[a,f];if(R[0]=2*F[0]-R[0],R[1]=2*F[1]-R[1],l)return[R,U,z].concat(d);d=[R,U,z].concat(d).join().split(",");for(var X=[],V=0,$=d.length;$>V;V++)X[V]=V%2?v(d[V-1],d[V],p).y:v(d[V],d[V+1],p).x;return X}function A(e,t,n,r,i,s,o,u){for(var a,f,l,c,h,p,d,v,m=[],g=[[],[]],y=0;2>y;++y)if(0==y?(f=6*e-12*n+6*i,a=-3*e+9*n-9*i+3*o,l=3*n-3*e):(f=6*t-12*r+6*s,a=-3*t+9*r-9*s+3*u,l=3*r-3*t),W(a)<1e-12){if(W(f)<1e-12)continue;c=-l/f,c>0&&1>c&&m.push(c)}else d=f*f-4*l*a,v=I.sqrt(d),0>d||(h=(-f+v)/(2*a),h>0&&1>h&&m.push(h),p=(-f-v)/(2*a),p>0&&1>p&&m.push(p));for(var b,w=m.length,E=w;w--;)c=m[w],b=1-c,g[0][w]=b*b*b*e+3*b*b*c*n+3*b*c*c*i+c*c*c*o,g[1][w]=b*b*b*t+3*b*b*c*r+3*b*c*c*s+c*c*c*u;return g[0][E]=e,g[1][E]=t,g[0][E+1]=o,g[1][E+1]=u,g[0].length=g[1].length=E+2,{min:{x:R.apply(0,g[0]),y:R.apply(0,g[1])},max:{x:U.apply(0,g[0]),y:U.apply(0,g[1])}}}function O(e,t){var r=!t&&n(e);if(!t&&r.curve)return s(r.curve);for(var i=N(e),o=t&&N(t),u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f=function(e,t,n){var r,i;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(L.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"==n||"S"==n?(r=2*t.x-t.bx,i=2*t.y-t.by):(r=t.x,i=t.y),e=["C",r,i].concat(e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(k(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(k(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(C(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(C(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(C(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(C(t.x,t.y,t.X,t.Y))}return e},l=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)h[t]="A",o&&(p[t]="A"),e.splice(t++,0,["C"].concat(n.splice(0,6)));e.splice(t,1),g=U(i.length,o&&o.length||0)}},c=function(e,t,n,r,s){e&&t&&"M"==e[s][0]&&"M"!=t[s][0]&&(t.splice(s,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=e[s][1],n.y=e[s][2],g=U(i.length,o&&o.length||0))},h=[],p=[],d="",v="",m=0,g=U(i.length,o&&o.length||0);g>m;m++){i[m]&&(d=i[m][0]),"C"!=d&&(h[m]=d,m&&(v=h[m-1])),i[m]=f(i[m],u,v),"A"!=h[m]&&"C"==d&&(h[m]="C"),l(i,m),o&&(o[m]&&(d=o[m][0]),"C"!=d&&(p[m]=d,m&&(v=p[m-1])),o[m]=f(o[m],a,v),"A"!=p[m]&&"C"==d&&(p[m]="C"),l(o,m)),c(i,o,u,a,m),c(o,i,a,u,m);var y=i[m],b=o&&o[m],w=y.length,E=o&&b.length;u.x=y[w-2],u.y=y[w-1],u.bx=F(y[w-4])||u.x,u.by=F(y[w-3])||u.y,a.bx=o&&(F(b[E-4])||a.x),a.by=o&&(F(b[E-3])||a.y),a.x=o&&b[E-2],a.y=o&&b[E-1]}return o||(r.curve=s(i)),o?[i,o]:i}function M(e,t){if(!t)return e;var n,r,i,s,o,u,a;for(e=O(e),i=0,o=e.length;o>i;i++)for(a=e[i],s=1,u=a.length;u>s;s+=2)n=t.x(a[s],a[s+1]),r=t.y(a[s],a[s+1]),a[s]=n,a[s+1]=r;return e}function _(e,t){for(var n=[],r=0,i=e.length;i-2*!t>r;r+=2){var s=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?i-4==r?s[3]={x:+e[0],y:+e[1]}:i-2==r&&(s[2]={x:+e[0],y:+e[1]},s[3]={x:+e[2],y:+e[3]}):s[0]={x:+e[i-2],y:+e[i-1]}:i-4==r?s[3]=s[2]:r||(s[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-s[0].x+6*s[1].x+s[2].x)/6,(-s[0].y+6*s[1].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return n}var D=t.prototype,P=e.is,H=e._.clone,B="hasOwnProperty",j=/,?([a-z]),?/gi,F=parseFloat,I=Math,q=I.PI,R=I.min,U=I.max,z=I.pow,W=I.abs,X=u(1),V=u(),$=u(0,1),J=e._unit2px,K={path:function(e){return e.attr("path")},circle:function(e){var t=J(e);return x(t.cx,t.cy,t.r)},ellipse:function(e){var t=J(e);return x(t.cx||0,t.cy||0,t.rx,t.ry)},rect:function(e){var t=J(e);return S(t.x||0,t.y||0,t.width,t.height,t.rx,t.ry)},image:function(e){var t=J(e);return S(t.x||0,t.y||0,t.width,t.height)},line:function(e){return"M"+[e.attr("x1")||0,e.attr("y1")||0,e.attr("x2"),e.attr("y2")]},polyline:function(e){return"M"+e.attr("points")},polygon:function(e){return"M"+e.attr("points")+"z"},deflt:function(e){var t=e.node.getBBox();return S(t.x,t.y,t.width,t.height)}};e.path=n,e.path.getTotalLength=X,e.path.getPointAtLength=V,e.path.getSubpath=function(e,t,n){if(this.getTotalLength(e)-n<1e-6)return $(e,t).end;var r=$(e,n,1);return t?$(r,t).end:r},D.getTotalLength=function(){return this.node.getTotalLength?this.node.getTotalLength():void 0},D.getPointAtLength=function(e){return V(this.attr("d"),e)},D.getSubpath=function(t,n){return e.path.getSubpath(this.attr("d"),t,n)},e._.box=r,e.path.findDotsAtSegment=a,e.path.bezierBBox=f,e.path.isPointInsideBBox=l,e.path.isBBoxIntersect=c,e.path.intersection=g,e.path.intersectionNumber=y,e.path.isPointInside=w,e.path.getBBox=E,e.path.get=K,e.path.toRelative=T,e.path.toAbsolute=N,e.path.toCubic=O,e.path.map=M,e.path.toString=i,e.path.clone=s}),r.plugin(function(e){var r=Math.max,i=Math.min,s=function(e){if(this.items=[],this.bindings={},this.length=0,this.type="set",e)for(var t=0,n=e.length;n>t;t++)e[t]&&(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},o=s.prototype;o.push=function(){for(var e,t,n=0,r=arguments.length;r>n;n++)e=arguments[n],e&&(t=this.items.length,this[t]=this.items[t]=e,this.length++);return this},o.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},o.forEach=function(e,t){for(var n=0,r=this.items.length;r>n;n++)if(e.call(t,this.items[n],n)===!1)return this;return this},o.animate=function(r,i,s,o){"function"!=typeof s||s.length||(o=s,s=n.linear),r instanceof e._.Animation&&(o=r.callback,s=r.easing,i=s.dur,r=r.attr);var u=arguments;if(e.is(r,"array")&&e.is(u[u.length-1],"array"))var f=!0;var l,h=function(){l?this.b=l:l=this.b},p=0,d=o&&function(){p++==this.length&&o.call(this)};return this.forEach(function(e,n){t.once("snap.animcreated."+e.id,h),f?u[n]&&e.animate.apply(e,u[n]):e.animate(r,i,s,d)})},o.remove=function(){for(;this.length;)this.pop().remove();return this},o.bind=function(e,t,n){var r={};if("function"==typeof t)this.bindings[e]=t;else{var i=n||e;this.bindings[e]=function(e){r[i]=e,t.attr(r)}}return this},o.attr=function(e){var t={};for(var n in e)this.bindings[n]?this.bindings[n](e[n]):t[n]=e[n];for(var r=0,i=this.items.length;i>r;r++)this.items[r].attr(t);return this},o.clear=function(){for(;this.length;)this.pop()},o.splice=function(e,t){e=0>e?r(this.length+e,0):e,t=r(0,i(this.length-e,t));var n,o=[],u=[],a=[];for(n=2;n<arguments.length;n++)a.push(arguments[n]);for(n=0;t>n;n++)u.push(this[e+n]);for(;n<this.length-e;n++)o.push(this[e+n]);var l=a.length;for(n=0;n<l+o.length;n++)this.items[e+n]=this[e+n]=l>n?a[n]:o[n-l];for(n=this.items.length=this.length-=t-l;this[n];)delete this[n++];return new s(u)},o.exclude=function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]==e)return this.splice(t,1),!0;return!1},o.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},o.getBBox=function(){for(var e=[],t=[],n=[],s=[],o=this.items.length;o--;)if(!this.items[o].removed){var u=this.items[o].getBBox();e.push(u.x),t.push(u.y),n.push(u.x+u.width),s.push(u.y+u.height)}return e=i.apply(0,e),t=i.apply(0,t),n=r.apply(0,n),s=r.apply(0,s),{x:e,y:t,x2:n,y2:s,width:n-e,height:s-t,cx:e+(n-e)/2,cy:t+(s-t)/2}},o.clone=function(e){e=new s;for(var t=0,n=this.items.length;n>t;t++)e.push(this.items[t].clone());return e},o.toString=function(){return"Snap‘s set"},o.type="set",e.set=function(){var e=new s;return arguments.length&&e.push.apply(e,Array.prototype.slice.call(arguments,0)),e}}),r.plugin(function(e,n){function r(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==e.length?[t,0,e[2],e[3]]:[t,0];case"s":return 5==e.length?[t,1,1,e[3],e[4]]:3==e.length?[t,1,1]:[t,1]}}function i(t,n,i){n=h(n).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],n=e.parseTransformString(n)||[];for(var s,o,u,l,c=Math.max(t.length,n.length),p=[],v=[],g=0;c>g;g++){if(u=t[g]||r(n[g]),l=n[g]||r(u),u[0]!=l[0]||"r"==u[0].toLowerCase()&&(u[2]!=l[2]||u[3]!=l[3])||"s"==u[0].toLowerCase()&&(u[3]!=l[3]||u[4]!=l[4])){t=e._.transform2matrix(t,i()),n=e._.transform2matrix(n,i()),p=[["m",t.a,t.b,t.c,t.d,t.e,t.f]],v=[["m",n.a,n.b,n.c,n.d,n.e,n.f]];break}for(p[g]=[],v[g]=[],s=0,o=Math.max(u.length,l.length);o>s;s++)s in u&&(p[g][s]=u[s]),s in l&&(v[g][s]=l[s])}return{from:f(p),to:f(v),f:a(p)}}function s(e){return e}function o(e){return function(t){return+t.toFixed(3)+e}}function u(t){return e.rgb(t[0],t[1],t[2])}function a(e){var t,n,r,i,s,o,u=0,a=[];for(t=0,n=e.length;n>t;t++){for(s="[",o=['"'+e[t][0]+'"'],r=1,i=e[t].length;i>r;r++)o[r]="val["+u++ +"]";s+=o+"]",a[t]=s}return Function("val","return Snap.path.toString.call(["+a+"])")}function f(e){for(var t=[],n=0,r=e.length;r>n;n++)for(var i=1,s=e[n].length;s>i;i++)t.push(e[n][i]);return t}var l={},c=/[a-z]+$/i,h=String;l.stroke=l.fill="colour",n.prototype.equal=function(e,n){return t("snap.util.equal",this,e,n).firstDefined()},t.on("snap.util.equal",function(t,n){var r,p,d=h(this.attr(t)||""),v=this;if(d==+d&&n==+n)return{from:+d,to:+n,f:s};if("colour"==l[t])return r=e.color(d),p=e.color(n),{from:[r.r,r.g,r.b,r.opacity],to:[p.r,p.g,p.b,p.opacity],f:u};if("transform"==t||"gradientTransform"==t||"patternTransform"==t)return n instanceof e.Matrix&&(n=n.toTransformString()),e._.rgTransform.test(n)||(n=e._.svgTransform2string(n)),i(d,n,function(){return v.getBBox(1)});if("d"==t||"path"==t)return r=e.path.toCubic(d,n),{from:f(r[0]),to:f(r[1]),f:a(r[0])};if("points"==t)return r=h(d).split(e._.separator),p=h(n).split(e._.separator),{from:r,to:p,f:function(e){return e}};aUnit=d.match(c);var y=h(n).match(c);return aUnit&&aUnit==y?{from:parseFloat(d),to:parseFloat(n),f:o(aUnit)}:{from:this.asPX(t),to:this.asPX(t,n),f:s}})}),r.plugin(function(e,n,r,i){for(var s=n.prototype,o="hasOwnProperty",u="createTouch"in i.doc,a=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],f={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},l=function(e,t){var n="y"==e?"scrollTop":"scrollLeft",r=t&&t.node?t.node.ownerDocument:i.doc;return r[n in r.documentElement?"documentElement":"body"][n]},c=function(){this.returnValue=!1},h=function(){return this.originalEvent.preventDefault()},p=function(){this.cancelBubble=!0},d=function(){return this.originalEvent.stopPropagation()},v=function(){return i.doc.addEventListener?function(e,t,n,r){var i=u&&f[t]?f[t]:t,s=function(i){var s=l("y",r),a=l("x",r);if(u&&f[o](t))for(var c=0,p=i.targetTouches&&i.targetTouches.length;p>c;c++)if(i.targetTouches[c].target==e||e.contains(i.targetTouches[c].target)){var v=i;i=i.targetTouches[c],i.originalEvent=v,i.preventDefault=h,i.stopPropagation=d;break}var m=i.clientX+a,g=i.clientY+s;return n.call(r,i,m,g)};return t!==i&&e.addEventListener(t,s,!1),e.addEventListener(i,s,!1),function(){return t!==i&&e.removeEventListener(t,s,!1),e.removeEventListener(i,s,!1),!0}}:i.doc.attachEvent?function(e,t,n,r){var i=function(e){e=e||r.node.ownerDocument.window.event;var t=l("y",r),i=l("x",r),s=e.clientX+i,o=e.clientY+t;return e.preventDefault=e.preventDefault||c,e.stopPropagation=e.stopPropagation||p,n.call(r,e,s,o)};e.attachEvent("on"+t,i);var s=function(){return e.detachEvent("on"+t,i),!0};return s}:void 0}(),m=[],g=function(e){for(var n,r=e.clientX,i=e.clientY,s=l("y"),o=l("x"),a=m.length;a--;){if(n=m[a],u){for(var f,c=e.touches&&e.touches.length;c--;)if(f=e.touches[c],f.identifier==n.el._drag.id||n.el.node.contains(f.target)){r=f.clientX,i=f.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();{var h=n.el.node;h.nextSibling,h.parentNode,h.style.display}r+=o,i+=s,t("snap.drag.move."+n.el.id,n.move_scope||n.el,r-n.el._drag.x,i-n.el._drag.y,r,i,e)}},y=function(n){e.unmousemove(g).unmouseup(y);for(var r,i=m.length;i--;)r=m[i],r.el._drag={},t("snap.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,n);m=[]},w=a.length;w--;)!function(t){e[t]=s[t]=function(n,r){return e.is(n,"function")&&(this.events=this.events||[],this.events.push({name:t,f:n,unbind:v(this.node||document,t,n,r||this)})),this},e["un"+t]=s["un"+t]=function(e){for(var n=this.events||[],r=n.length;r--;)if(n[r].name==t&&(n[r].f==e||!e))return n[r].unbind(),n.splice(r,1),!n.length&&delete this.events,this;return this}}(a[w]);s.hover=function(e,t,n,r){return this.mouseover(e,n).mouseout(t,r||n)},s.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var E=[];s.drag=function(n,r,i,s,o,u){function a(a,f,l){(a.originalEvent||a).preventDefault(),this._drag.x=f,this._drag.y=l,this._drag.id=a.identifier,!m.length&&e.mousemove(g).mouseup(y),m.push({el:this,move_scope:s,start_scope:o,end_scope:u}),r&&t.on("snap.drag.start."+this.id,r),n&&t.on("snap.drag.move."+this.id,n),i&&t.on("snap.drag.end."+this.id,i),t("snap.drag.start."+this.id,o||s||this,f,l,a)}if(!arguments.length){var f;return this.drag(function(e,t){this.attr({transform:f+(f?"T":"t")+[e,t]})},function(){f=this.transform().local})}return this._drag={},E.push({el:this,start:a}),this.mousedown(a),this},s.undrag=function(){for(var n=E.length;n--;)E[n].el==this&&(this.unmousedown(E[n].start),E.splice(n,1),t.unbind("snap.drag.*."+this.id));return!E.length&&e.unmousemove(g).unmouseup(y),this}}),r.plugin(function(e,n,r){var i=(n.prototype,r.prototype),s=/^\s*url\((.+)\)/,o=String,u=e._.$;e.filter={},i.filter=function(t){var r=this;"svg"!=r.type&&(r=r.paper);var i=e.parse(o(t)),s=e._.id(),f=(r.node.offsetWidth,r.node.offsetHeight,u("filter"));return u(f,{id:s,filterUnits:"userSpaceOnUse"}),f.appendChild(i.node),r.defs.appendChild(f),new n(f)},t.on("snap.util.getattr.filter",function(){t.stop();var n=u(this.node,"filter");if(n){var r=o(n).match(s);return r&&e.select(r[1])}}),t.on("snap.util.attr.filter",function(r){if(r instanceof n&&"filter"==r.type){t.stop();var i=r.node.id;i||(u(r.node,{id:r.id}),i=r.id),u(this.node,{filter:e.url(i)})}r&&"none"!=r||(t.stop(),this.node.removeAttribute("filter"))}),e.filter.blur=function(t,n){null==t&&(t=2);var r=null==n?t:[t,n];return e.format('<feGaussianBlur stdDeviation="{def}"/>',{def:r})},e.filter.blur.toString=function(){return this()},e.filter.shadow=function(t,n,r,i,s){return"string"==typeof r&&(i=r,s=i,r=4),"string"!=typeof i&&(s=i,i="#000"),i=i||"#000",null==r&&(r=4),null==s&&(s=1),null==t&&(t=0,n=2),null==n&&(n=t),i=e.color(i),e.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:i,dx:t,dy:n,blur:r,opacity:s})},e.filter.shadow.toString=function(){return this()},e.filter.grayscale=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},e.filter.grayscale.toString=function(){return this()},e.filter.sepia=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},e.filter.sepia.toString=function(){return this()},e.filter.saturate=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-t})},e.filter.saturate.toString=function(){return this()},e.filter.hueRotate=function(t){return t=t||0,e.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:t})},e.filter.hueRotate.toString=function(){return this()},e.filter.invert=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:t,amount2:1-t})},e.filter.invert.toString=function(){return this()},e.filter.brightness=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:t})},e.filter.brightness.toString=function(){return this()},e.filter.contrast=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:t,amount2:.5-t/2})},e.filter.contrast.toString=function(){return this()}}),r})