{"version":3,"sources":["main.js"],"names":["Site","mobileThreshold","init","_this","this","$","window","resize","onResize","fixWidows","each","string","html","replace","jQuery","document","ready","onDeviceOrientationChange","event","x","gamma","innerWidth","y","beta","innerHeight","moveEyes","posX","posY","mX","offset","left","mY","top","tl","Snap","angle","midl","tr","midr","lpal","lefteye","getPointAtLength","lenl","lpalx","lpaly","rpal","righteye","lenr","rpalx","rpaly","path","isPointInside","leftball","attr","cx","cy","rightball","globie","select","ellipse","querySelector","getTotalLength","bbl","getBBox","bbr","width","height","mousemove","e","pageX","pageY","DeviceOrientationEvent","addEventListener"],"mappings":"AAGAA,MACEC,gBAAiB,IACjBC,KAAM,WACJ,GAAIC,GAAQC,IAEZC,GAAEC,QAAQC,OAAO,WACfJ,EAAMK,cAKVA,SAAU,aAKVC,UAAW,WAETJ,EAAE,kBAAkBK,KAAK,WACvB,GAAIC,GAASN,EAAED,MAAMQ,MACrBD,GAASA,EAAOE,QAAQ,YAAY,YACpCR,EAAED,MAAMQ,KAAKD,OAKnBG,OAAOC,UAAUC,MAAM,WACrB,YAEAhB,MAAKE,SAIPG,EAAE,WAsCA,QAASY,GAA0BC,GAEjC,GAAIC,IAAKD,EAAME,MAAQ,IAAM,IAAMd,OAAOe,WACtCC,GAAKJ,EAAMK,KAAO,GAAK,IAAM,IAAMjB,OAAOkB,WAE9CC,GAASN,EAAEG,GAIb,QAASG,GAASC,EAAMC,GAEtBC,GAAKF,EAAOrB,EAAE,WAAWwB,SAASC,KAClCC,GAAKJ,EAAOtB,EAAE,WAAWwB,SAASG,IAElCC,GAAKC,KAAKC,MAAMC,EAAKjB,EAAGiB,EAAKd,EAAGM,GAAIG,IAAM,IAC1CM,GAAKH,KAAKC,MAAMG,EAAKnB,EAAGmB,EAAKhB,EAAGM,GAAIG,IAAM,IAE1CQ,EAAOC,EAAQC,iBAAkBR,GAAKS,EAAQA,GAC9CC,MAAQJ,EAAKpB,EACbyB,MAAQL,EAAKjB,EAEbuB,EAAOC,EAASL,iBAAkBJ,GAAKU,EAAQA,GAC/CC,MAAQH,EAAK1B,EACb8B,MAAQJ,EAAKvB,EAETY,KAAKgB,KAAKC,cAAcX,EAASZ,GAAIG,IACvCqB,EAASC,MACPC,GAAI1B,GACJ2B,GAAIxB,KAGNqB,EAASC,MACPC,GAAIX,MACJY,GAAIX,QAIJV,KAAKgB,KAAKC,cAAcL,EAAUlB,GAAIG,IACxCyB,EAAUH,MACRC,GAAI1B,GACJ2B,GAAIxB,KAGNyB,EAAUH,MACRC,GAAIN,MACJO,GAAIN,QAjFV,GAAIQ,GAASvB,KAAK,WAChBM,EAAUiB,EAAOC,OAAO,YACxBN,EAAWK,EAAOE,QAAQ,IAAK,IAAK,GAAI,IAAIN,SAC5CP,EAAWW,EAAOC,OAAO,aACzBF,EAAYC,EAAOE,QAAQ,IAAK,IAAK,GAAI,IAAIN,SAK7CX,GAJOe,EAAOC,OAAO,eACR3C,SAAS6C,cAAc,WACvB7C,SAAS6C,cAAc,SAE7B1B,KAAKgB,KAAKW,eAAerB,IAChCO,EAAOb,KAAKgB,KAAKW,eAAerB,GAChCsB,EAAM5B,KAAKgB,KAAKa,QAAQvB,GACxBwB,EAAM9B,KAAKgB,KAAKa,QAAQjB,GACxBV,GACEjB,EAAG2C,EAAI3C,EAAK2C,EAAIG,MAAQ,EACxB3C,EAAGwC,EAAIxC,EAAKwC,EAAII,OAAS,GAE3B5B,GACEnB,EAAG6C,EAAI7C,EAAK6C,EAAIC,MAAQ,EACxB3C,EAAG0C,EAAI1C,EAAK0C,EAAIE,OAAS,GAG3B3B,EAAOL,KAAKgB,KAAKT,iBAAiBD,GAClCK,EAAOX,KAAKgB,KAAKT,iBAAiBK,EAEhCxC,QAAOe,WAAa,IAEtBhB,EAAEU,UAAUoD,UAAU,SAAUC,GAC9B3C,EAAS2C,EAAEC,MAAOD,EAAEE,SAGnBhE,OAAOiE,wBACRjE,OAAOkE,iBAAiB,oBAAqBvD,GAA2B","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global jQuery, $, document, Site, Modernizr */\n\nSite = {\n  mobileThreshold: 601,\n  init: function() {\n    var _this = this;\n\n    $(window).resize(function(){\n      _this.onResize();\n    });\n\n  },\n\n  onResize: function() {\n    var _this = this;\n\n  },\n\n  fixWidows: function() {\n    // utility class mainly for use on headines to avoid widows [single words on a new line]\n    $('.js-fix-widows').each(function(){\n      var string = $(this).html();\n      string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n      $(this).html(string);\n    });\n  },\n};\n\njQuery(document).ready(function () {\n  'use strict';\n\n  Site.init();\n\n});\n\n$(function () {\n\n  var globie = Snap(\"#globie\"), // assign svg #globie as Snap object\n    lefteye = globie.select(\"#leftEye\"), // select #leftEye from globie object\n    leftball = globie.ellipse(220, 150, 27, 40).attr({}), // draw left eyeball in globie object\n    righteye = globie.select(\"#rightEye\"), // select #rightEye from globie object\n    rightball = globie.ellipse(280, 150, 27, 40).attr({}), // draw right eyeball in globie object\n    body = globie.select(\"#globieBody\"),\n    globieBody = document.querySelector('#globie'),\n    globieLegs = document.querySelector('#legs'),\n\n    lenl = Snap.path.getTotalLength(lefteye), // get length of left eye path\n    lenr = Snap.path.getTotalLength(lefteye), // get length of right eye path\n    bbl = Snap.path.getBBox(lefteye), // get bounding box of left eye path\n    bbr = Snap.path.getBBox(righteye), // get bounding box of right eye path\n    midl = {\n      x: bbl.x + (bbl.width / 2),\n      y: bbl.y + (bbl.height / 2)\n    }, // find center point of left eye\n    midr = {\n      x: bbr.x + (bbr.width / 2),\n      y: bbr.y + (bbr.height / 2)\n    }, // find center point of right eye\n\n    lpal = Snap.path.getPointAtLength(lefteye), // Returns the (x,y) coordinate in user space which is distance units along the path\n    rpal = Snap.path.getPointAtLength(righteye); // Returns the (x,y) coordinate in user space which is distance units along the path\n\n  if( window.innerWidth > 720 ) {\n    // Eyeballs follow cursor\n    $(document).mousemove(function (e) {\n      moveEyes(e.pageX, e.pageY);\n    });\n  } else {\n    if(window.DeviceOrientationEvent){\n      window.addEventListener(\"deviceorientation\", onDeviceOrientationChange, false);\n    }\n  }\n\n  function onDeviceOrientationChange(event) {\n\n    var x = (event.gamma + 90) / 180 * window.innerWidth;\n    var y = (event.beta - 45 + 90) / 180 * window.innerHeight;\n\n    moveEyes(x,y);\n  }\n\n\n  function moveEyes(posX, posY) {\n\n    mX = posX - $('#globie').offset().left;\n    mY = posY - $('#globie').offset().top;\n\n    tl = Snap.angle(midl.x, midl.y, mX, mY) / 360;\n    tr = Snap.angle(midr.x, midr.y, mX, mY) / 360;\n\n    lpal = lefteye.getPointAtLength((tl * lenl) % lenl);\n    lpalx = lpal.x;\n    lpaly = lpal.y;\n\n    rpal = righteye.getPointAtLength((tr * lenr) % lenr);\n    rpalx = rpal.x;\n    rpaly = rpal.y;\n\n    if (Snap.path.isPointInside(lefteye, mX, mY)) {\n      leftball.attr({\n        cx: mX,\n        cy: mY\n      });\n    } else {\n      leftball.attr({\n        cx: lpalx,\n        cy: lpaly\n      });\n    }\n\n    if (Snap.path.isPointInside(righteye, mX, mY)) {\n      rightball.attr({\n        cx: mX,\n        cy: mY\n      });\n    } else {\n      rightball.attr({\n        cx: rpalx,\n        cy: rpaly\n      });\n    }\n  }\n\n});\n"],"sourceRoot":"/source/"}