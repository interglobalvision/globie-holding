{"version":3,"sources":["main.js"],"names":["Site","mobileThreshold","init","_this","this","Globie","Language","fixWidows","$","window","resize","onResize","each","string","html","replace","specific","contentEn","contentEs","bind","click","$this","data","switch","lang","hide","show","globie","Snap","lefteye","select","leftball","ellipse","attr","righteye","rightball","lenl","path","getTotalLength","lenr","bbl","getBBox","bbr","midl","x","width","y","height","midr","lpal","getPointAtLength","rpal","innerWidth","document","mousemove","e","moveEyes","pageX","pageY","DeviceOrientationEvent","addEventListener","onDeviceOrientationChange","event","gamma","beta","innerHeight","posX","posY","mX","offset","left","mY","top","tl","angle","tr","lpalx","lpaly","rpalx","rpaly","isPointInside","cx","cy","jQuery","ready"],"mappings":"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","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global jQuery, $, document, Site, Modernizr, Globie, Snap */\n\nSite = {\n  mobileThreshold: 601,\n  init: function() {\n    var _this = this;\n\n    Globie.init();\n\n    _this.Language.init();\n    _this.fixWidows();\n\n    $(window).resize(function(){\n      _this.onResize();\n    });\n\n  },\n\n  onResize: function() {\n    var _this = this;\n\n  },\n\n  fixWidows: function() {\n    // utility class mainly for use on headines to avoid widows [single words on a new line]\n    $('.js-fix-widows').each(function(){\n      var string = $(this).html();\n      string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n      $(this).html(string);\n    });\n  },\n};\n\nSite.Language = {\n  init: function() {\n    var _this = this;\n\n    _this.specific = $('.lang-specific');\n    _this.contentEn = $('.active-en');\n    _this.contentEs = $('.active-es');\n\n    _this.bind();\n\n  },\n\n  bind: function() {\n    var _this = this;\n\n    $('.lang-switch').click(function() {\n      var $this = $(this);\n\n      _this.switch($this.data('lang'));\n\n    });\n\n  },\n\n  switch: function(lang) {\n    var _this = this;\n\n    _this.specific.hide();\n\n    if (lang === 'es') {\n      _this.contentEs.show();\n    } else {\n      _this.contentEn.show();\n    }\n\n  },\n};\n\nGlobie = {\n  init: function() {\n    var _this = this;\n\n    // assign svg #globie as Snap object\n    var globie = Snap('#globie');\n    // select #leftEye from globie object\n    _this.lefteye = globie.select('#leftEye');\n    // draw left eyeball in globie object\n    _this.leftball = globie.ellipse(220, 150, 27, 40).attr({});\n    // select #rightEye from globie object\n    _this.righteye = globie.select('#rightEye');\n    // draw right eyeball in globie object\n    _this.rightball = globie.ellipse(280, 150, 27, 40).attr({});\n\n    // get length of left eye path\n    _this.lenl = Snap.path.getTotalLength(_this.lefteye);\n    // get length of right eye path\n    _this.lenr = Snap.path.getTotalLength(_this.lefteye);\n    // get bounding box of left eye path\n    _this.bbl = Snap.path.getBBox(_this.lefteye);\n    // get bounding box of right eye path\n    _this.bbr = Snap.path.getBBox(_this.righteye);\n\n    // find center point of left eye\n    _this.midl = {\n      x: _this.bbl.x + (_this.bbl.width / 2),\n      y: _this.bbl.y + (_this.bbl.height / 2)\n    };\n\n    // find center point of right eye\n    _this.midr = {\n      x: _this.bbr.x + (_this.bbr.width / 2),\n      y: _this.bbr.y + (_this.bbr.height / 2)\n    };\n\n    // Returns the (x,y) coordinate in user space which is distance units along the path\n    _this.lpal = Snap.path.getPointAtLength(_this.lefteye);\n    // Returns the (x,y) coordinate in user space which is distance units along the path\n    _this.rpal = Snap.path.getPointAtLength(_this.righteye);\n\n    _this.bind();\n\n  },\n\n  bind: function() {\n    var _this = this;\n\n    // mobile width check to be made does hover exist check\n    if ( window.innerWidth > 720 ) {\n      // Eyeballs follow cursor\n      $(document).mousemove(function (e) {\n        _this.moveEyes(e.pageX, e.pageY);\n      });\n    } else {\n      if(window.DeviceOrientationEvent){\n        window.addEventListener('deviceorientation', function(e) {\n          return _this.onDeviceOrientationChange(e);\n        }.bind(_this), false);\n      }\n    }\n\n  },\n\n  onDeviceOrientationChange: function(event) {\n    var _this = this;\n\n    var x = (event.gamma + 90) / 180 * window.innerWidth;\n    var y = (event.beta - 45 + 90) / 180 * window.innerHeight;\n\n    _this.moveEyes(x, y);\n\n  },\n\n  moveEyes: function(posX, posY) {\n    var _this = this;\n\n    var mX = posX - $('#globie').offset().left;\n    var mY = posY - $('#globie').offset().top;\n\n    var tl = Snap.angle(_this.midl.x, _this.midl.y, mX, mY) / 360;\n    var tr = Snap.angle(_this.midr.x, _this.midr.y, mX, mY) / 360;\n\n    var lpal = _this.lefteye.getPointAtLength((tl * _this.lenl) % _this.lenl);\n    var lpalx = lpal.x;\n    var lpaly = lpal.y;\n\n    var rpal = _this.righteye.getPointAtLength((tr * _this.lenr) % _this.lenr);\n    var rpalx = rpal.x;\n    var rpaly = rpal.y;\n\n    if (Snap.path.isPointInside(_this.lefteye, mX, mY)) {\n      _this.leftball.attr({\n        cx: mX,\n        cy: mY\n      });\n    } else {\n      _this.leftball.attr({\n        cx: lpalx,\n        cy: lpaly\n      });\n    }\n\n    if (Snap.path.isPointInside(_this.righteye, mX, mY)) {\n      _this.rightball.attr({\n        cx: mX,\n        cy: mY\n      });\n    } else {\n      _this.rightball.attr({\n        cx: rpalx,\n        cy: rpaly\n      });\n    }\n\n  },\n};\n\njQuery(document).ready(function () {\n  'use strict';\n\n  Site.init();\n\n});\n"],"sourceRoot":"/source/"}